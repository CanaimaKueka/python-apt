

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>apt_pkg — The low-level bindings for apt-pkg &mdash; python-apt 0.8.8.2Canaima1 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.8.8.2Canaima1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="python-apt 0.8.8.2Canaima1 documentation" href="../index.html" />
    <link rel="up" title="Python APT Library" href="index.html" />
    <link rel="next" title="apt_inst - Working with local Debian packages" href="apt_inst.html" />
    <link rel="prev" title="Python APT Library" href="index.html" />
    <link rel="shortcut icon" type="image/png" href="../_static/py.png" />
 

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="apt_inst.html" title="apt_inst - Working with local Debian packages"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Python APT Library"
             accesskey="P">previous</a> |</li>
        <li><img src="../_static/py.png" alt=""
                 style="vertical-align: middle; margin-top: -1px"/></li>
        <li><a href="../index.html">python-apt 0.8.8.2Canaima1 documentation</a> &raquo;</li>

          <li><a href="index.html" accesskey="U">Python APT Library</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-apt_pkg">
<span id="apt-pkg-the-low-level-bindings-for-apt-pkg"></span><h1><a class="reference internal" href="#module-apt_pkg" title="apt_pkg"><tt class="xref py py-mod docutils literal"><span class="pre">apt_pkg</span></tt></a> &#8212; The low-level bindings for apt-pkg<a class="headerlink" href="#module-apt_pkg" title="Permalink to this headline">¶</a></h1>
<p>The apt_pkg extensions provides a more low-level way to work with apt. It can
do everything apt can, and is written in C++. It has been in python-apt since
the beginning.</p>
<div class="section" id="module-initialization">
<h2>Module Initialization<a class="headerlink" href="#module-initialization" title="Permalink to this headline">¶</a></h2>
<p>Initialization is needed for most functions, but not for all of them. Some can
be called without having run init*(), but will not return the expected value.</p>
<dl class="function">
<dt id="apt_pkg.init_config">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">init_config</tt><big>(</big><big>)</big><a class="headerlink" href="#apt_pkg.init_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the configuration of apt. This is needed for most operations.</p>
</dd></dl>

<dl class="function">
<dt id="apt_pkg.init_system">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">init_system</tt><big>(</big><big>)</big><a class="headerlink" href="#apt_pkg.init_system" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the system.</p>
</dd></dl>

<dl class="function">
<dt id="apt_pkg.init">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">init</tt><big>(</big><big>)</big><a class="headerlink" href="#apt_pkg.init" title="Permalink to this definition">¶</a></dt>
<dd><p>A short cut to calling <a class="reference internal" href="#apt_pkg.init_config" title="apt_pkg.init_config"><tt class="xref py py-func docutils literal"><span class="pre">init_config()</span></tt></a> and <a class="reference internal" href="#apt_pkg.init_system" title="apt_pkg.init_system"><tt class="xref py py-func docutils literal"><span class="pre">init_system()</span></tt></a>. You
can use this if you do not use the command line parsing facilities provided
by <a class="reference internal" href="#apt_pkg.parse_commandline" title="apt_pkg.parse_commandline"><tt class="xref py py-func docutils literal"><span class="pre">parse_commandline()</span></tt></a>, otherwise call <a class="reference internal" href="#apt_pkg.init_config" title="apt_pkg.init_config"><tt class="xref py py-func docutils literal"><span class="pre">init_config()</span></tt></a>, parse
the commandline afterwards and finally call <a class="reference internal" href="#apt_pkg.init_system" title="apt_pkg.init_system"><tt class="xref py py-func docutils literal"><span class="pre">init_system()</span></tt></a>.</p>
</dd></dl>

</div>
<div class="section" id="working-with-the-cache">
<h2>Working with the cache<a class="headerlink" href="#working-with-the-cache" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="apt_pkg.Cache">
<em class="property">class </em><tt class="descclassname">apt_pkg.</tt><tt class="descname">Cache</tt><big>(</big><span class="optional">[</span><em>progress: apt.progress.base.OpProgress</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#apt_pkg.Cache" title="Permalink to this definition">¶</a></dt>
<dd><p>A Cache object represents the cache used by APT which contains information
about packages. The object itself provides no means to modify the cache or
the installed packages, see the classes <a class="reference internal" href="#apt_pkg.DepCache" title="apt_pkg.DepCache"><tt class="xref py py-class docutils literal"><span class="pre">DepCache</span></tt></a> and
<a class="reference internal" href="#apt_pkg.PackageManager" title="apt_pkg.PackageManager"><tt class="xref py py-class docutils literal"><span class="pre">PackageManager</span></tt></a> for such functionality.</p>
<p>The constructor takes an optional argument which must be a subclass of
<a class="reference internal" href="apt.progress.base.html#apt.progress.base.OpProgress" title="apt.progress.base.OpProgress"><tt class="xref py py-class docutils literal"><span class="pre">apt.progress.base.OpProgress</span></tt></a>. This object will then be used to
display information during the cache opening process (or possible creation
of the cache). It may also be <tt class="docutils literal"><span class="pre">None</span></tt>, in which case no progress will
be emitted. If not given, progress will be printed to standard output.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The cache supports colon-separated name:architecture pairs. For
normal architectures, they are equal to a (name, architecture)
tuple. For the &#8220;any&#8221; architecture behavior is different, as
&#8220;name:any&#8221; is equivalent to (&#8220;name:any&#8221;, &#8220;any&#8221;). This is done so
that &#8220;name:any&#8221; matches all packages with that name which have
Multi-Arch: allowed set.</p>
</div>
<dl class="describe">
<dt>
<tt class="descname">cache[pkgname]</tt></dt>
<dd><p>Return the <a class="reference internal" href="#apt_pkg.Package" title="apt_pkg.Package"><tt class="xref py py-class docutils literal"><span class="pre">Package()</span></tt></a> object for the package name given by
<em>pkgname</em>. If <em>pkgname</em> includes a colon, the part after the colon
is used as the architecture.</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">cache[name, architecture]</tt></dt>
<dd><p>Return the <a class="reference internal" href="#apt_pkg.Package" title="apt_pkg.Package"><tt class="xref py py-class docutils literal"><span class="pre">Package()</span></tt></a> object for the package with the given
name and architecture.</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">pkgname in cache</tt></dt>
<dd><p>Check whether a package with the name given by <em>pkgname</em> exists in
the cache for the native architecture. If <em>pkgname</em> includes a
colon, the part after the colon is used as the architecture.</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">(name, architecture) in cache</tt></dt>
<dd><p>Check whether a package with the given name and architecture exists
in the cache.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.Cache.update">
<tt class="descname">update</tt><big>(</big><em>progress</em>, <em>sources</em><span class="optional">[</span>, <em>pulse_interval</em><span class="optional">]</span><big>)</big> &rarr; bool<a class="headerlink" href="#apt_pkg.Cache.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the index files used by the cache. A call to this method
does not affect the current Cache object, instead a new one
should be created in order to use the changed index files.</p>
<p>The parameter <em>progress</em> takes an
<a class="reference internal" href="apt.progress.base.html#apt.progress.base.AcquireProgress" title="apt.progress.base.AcquireProgress"><tt class="xref py py-class docutils literal"><span class="pre">apt.progress.base.AcquireProgress</span></tt></a> object which will display
the progress of fetching the index files. The parameter <em>sources</em> takes
a <a class="reference internal" href="#apt_pkg.SourceList" title="apt_pkg.SourceList"><tt class="xref py py-class docutils literal"><span class="pre">SourceList</span></tt></a> object which lists the sources. The parameter
<em>progress</em> takes an integer describing the interval (in microseconds)
in which the pulse() method of the <em>progress</em> object will be called.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.Cache.depends_count">
<tt class="descname">depends_count</tt><a class="headerlink" href="#apt_pkg.Cache.depends_count" title="Permalink to this definition">¶</a></dt>
<dd><p>The total number of dependencies stored in the cache.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.Cache.file_list">
<tt class="descname">file_list</tt><a class="headerlink" href="#apt_pkg.Cache.file_list" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of all <a class="reference internal" href="#apt_pkg.PackageFile" title="apt_pkg.PackageFile"><tt class="xref py py-class docutils literal"><span class="pre">PackageFile</span></tt></a> objects stored in the cache.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.Cache.group_count">
<tt class="descname">group_count</tt><a class="headerlink" href="#apt_pkg.Cache.group_count" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of groups in the cache.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.Cache.groups">
<tt class="descname">groups</tt><a class="headerlink" href="#apt_pkg.Cache.groups" title="Permalink to this definition">¶</a></dt>
<dd><p>A sequence of <a class="reference internal" href="#apt_pkg.Group" title="apt_pkg.Group"><tt class="xref py py-class docutils literal"><span class="pre">Group</span></tt></a> objects, implemented as a
<a class="reference internal" href="#apt_pkg.Cache.GroupList" title="apt_pkg.Cache.GroupList"><tt class="xref py py-class docutils literal"><span class="pre">GroupList</span></tt></a> object.</p>
<dl class="class">
<dt id="apt_pkg.Cache.GroupList">
<em class="property">class </em><tt class="descname">GroupList</tt><a class="headerlink" href="#apt_pkg.Cache.GroupList" title="Permalink to this definition">¶</a></dt>
<dd><p>A simple sequence-like object which only provides a length and
an implementation of <tt class="docutils literal"><span class="pre">__getitem__</span></tt> for accessing groups at
a certain index. Apart from being iterable, it can be used in
the following ways:</p>
<dl class="describe">
<dt>
<tt class="descname">list[index]</tt></dt>
<dd><p>Get the <a class="reference internal" href="#apt_pkg.Group" title="apt_pkg.Group"><tt class="xref py py-class docutils literal"><span class="pre">Group</span></tt></a> object for the group at the position
given by <em>index</em> in the GroupList <em>list</em>.</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">len(list)</tt></dt>
<dd><p>Return the length of the GroupList object <em>list</em>.</p>
</dd></dl>

</dd></dl>

</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.is_multi_arch">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">is_multi_arch</tt><a class="headerlink" href="#apt_pkg.is_multi_arch" title="Permalink to this definition">¶</a></dt>
<dd><p>An attribute determining whether the cache supports multi-arch.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.package_count">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">package_count</tt><a class="headerlink" href="#apt_pkg.package_count" title="Permalink to this definition">¶</a></dt>
<dd><p>The total number of packages available in the cache. This value is
equal to the length of the list provided by the <a class="reference internal" href="#apt_pkg.packages" title="apt_pkg.packages"><tt class="xref py py-attr docutils literal"><span class="pre">packages</span></tt></a>
attribute.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.package_file_count">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">package_file_count</tt><a class="headerlink" href="#apt_pkg.package_file_count" title="Permalink to this definition">¶</a></dt>
<dd><p>The total number of Packages files available (the Packages files
listing the packages). This is the same as the length of the list in
the attribute <tt class="xref py py-attr docutils literal"><span class="pre">file_list</span></tt>.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.packages">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">packages</tt><a class="headerlink" href="#apt_pkg.packages" title="Permalink to this definition">¶</a></dt>
<dd><p>A sequence of <a class="reference internal" href="#apt_pkg.Package" title="apt_pkg.Package"><tt class="xref py py-class docutils literal"><span class="pre">Package</span></tt></a> objects, implemented as a
<a class="reference internal" href="#apt_pkg.PackageList" title="apt_pkg.PackageList"><tt class="xref py py-class docutils literal"><span class="pre">PackageList</span></tt></a> object.</p>
<dl class="class">
<dt id="apt_pkg.PackageList">
<em class="property">class </em><tt class="descclassname">apt_pkg.</tt><tt class="descname">PackageList</tt><a class="headerlink" href="#apt_pkg.PackageList" title="Permalink to this definition">¶</a></dt>
<dd><p>A simple sequence-like object which only provides a length and
an implementation of <tt class="docutils literal"><span class="pre">__getitem__</span></tt> for accessing packages at
a certain index. Apart from being iterable, it can be used in
the following ways:</p>
<dl class="describe">
<dt>
<tt class="descname">list[index]</tt></dt>
<dd><p>Get the <a class="reference internal" href="#apt_pkg.Package" title="apt_pkg.Package"><tt class="xref py py-class docutils literal"><span class="pre">Package</span></tt></a> object for the package at the position
given by <em>index</em> in the PackageList <em>list</em>.</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">len(list)</tt></dt>
<dd><p>Return the length of the PackageList object <em>list</em>.</p>
</dd></dl>

</dd></dl>

</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.provides_count">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">provides_count</tt><a class="headerlink" href="#apt_pkg.provides_count" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of provided packages.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.ver_file_count">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">ver_file_count</tt><a class="headerlink" href="#apt_pkg.ver_file_count" title="Permalink to this definition">¶</a></dt>
<dd><p>The total number of <tt class="docutils literal"><span class="pre">(Version,</span> <span class="pre">PackageFile)</span></tt> relations stored in
the cache.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.version_count">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">version_count</tt><a class="headerlink" href="#apt_pkg.version_count" title="Permalink to this definition">¶</a></dt>
<dd><p>The total number of package versions available in the cache.</p>
</dd></dl>

</dd></dl>

<div class="section" id="managing-the-cache-with-depcache">
<h3>Managing the cache with <a class="reference internal" href="#apt_pkg.DepCache" title="apt_pkg.DepCache"><tt class="xref py py-class docutils literal"><span class="pre">DepCache</span></tt></a><a class="headerlink" href="#managing-the-cache-with-depcache" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="apt_pkg.DepCache">
<em class="property">class </em><tt class="descclassname">apt_pkg.</tt><tt class="descname">DepCache</tt><big>(</big><em>cache: apt_pkg.Cache</em><big>)</big><a class="headerlink" href="#apt_pkg.DepCache" title="Permalink to this definition">¶</a></dt>
<dd><p>A DepCache object provides access to more information about the
objects made available by the <a class="reference internal" href="#apt_pkg.Cache" title="apt_pkg.Cache"><tt class="xref py py-class docutils literal"><span class="pre">Cache</span></tt></a> object as well as
means to mark packages for removal and installation, among other
actions.</p>
<p>The constructor takes a single argument which specifies the
<a class="reference internal" href="#apt_pkg.Cache" title="apt_pkg.Cache"><tt class="xref py py-class docutils literal"><span class="pre">Cache</span></tt></a> object the new object shall be related to. While
it is theoretically possible to create multiple DepCache objects
for the same cache, they will not be independent from each other
since they all access the same underlying C++ object.</p>
<p>Objects of this type provide several methods. Most of those methods
are safe to use and should never raise any exception (all those
methods for requesting state information or marking changes). If a
method is expected to raise an exception, it will be stated in the
description.</p>
<dl class="method">
<dt id="apt_pkg.DepCache.commit">
<tt class="descname">commit</tt><big>(</big><em>acquire_progress</em>, <em>install_progress</em><big>)</big><a class="headerlink" href="#apt_pkg.DepCache.commit" title="Permalink to this definition">¶</a></dt>
<dd><p>Commit all marked changes, while reporting the progress of
fetching packages via the <a class="reference internal" href="apt.progress.base.html#apt.progress.base.AcquireProgress" title="apt.progress.base.AcquireProgress"><tt class="xref py py-class docutils literal"><span class="pre">apt.progress.base.AcquireProgress</span></tt></a>
object given by <em>acquire_progress</em> and reporting the installation
of the package using the <a class="reference internal" href="apt.progress.base.html#apt.progress.base.InstallProgress" title="apt.progress.base.InstallProgress"><tt class="xref py py-class docutils literal"><span class="pre">apt.progress.base.InstallProgress</span></tt></a>
object given by <em>install_progress</em>.</p>
<p>If this fails, an exception of the type <tt class="xref py py-exc docutils literal"><span class="pre">SystemError</span></tt> will
be raised.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.DepCache.fix_broken">
<tt class="descname">fix_broken</tt><big>(</big><big>)</big> &rarr; bool<a class="headerlink" href="#apt_pkg.DepCache.fix_broken" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to fix all broken packages in the cache and return <tt class="docutils literal"><span class="pre">True</span></tt> in
case of success. If an error occurred, a <tt class="xref py py-exc docutils literal"><span class="pre">SystemError</span></tt>
exception is raised.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.DepCache.get_candidate_ver">
<tt class="descname">get_candidate_ver</tt><big>(</big><em>pkg: Package</em><big>)</big> &rarr; Version<a class="headerlink" href="#apt_pkg.DepCache.get_candidate_ver" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the candidate version for the package given by the parameter
<em>pkg</em> as a <a class="reference internal" href="#apt_pkg.Version" title="apt_pkg.Version"><tt class="xref py py-class docutils literal"><span class="pre">Version</span></tt></a> object. The default candidate for a
package is the version with the highest pin, although a different
one may be set using <a class="reference internal" href="#apt_pkg.DepCache.set_candidate_ver" title="apt_pkg.DepCache.set_candidate_ver"><tt class="xref py py-meth docutils literal"><span class="pre">set_candidate_ver()</span></tt></a>. If no candidate
can be found, return <tt class="docutils literal"><span class="pre">None</span></tt> instead.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.DepCache.init">
<tt class="descname">init</tt><big>(</big><em>progress: apt.progress.base.OpProgress</em><big>)</big><a class="headerlink" href="#apt_pkg.DepCache.init" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the DepCache. This is done automatically when the
cache is opened, but sometimes it may be useful to reinitialize
the DepCache. Like the constructor of <a class="reference internal" href="#apt_pkg.Cache" title="apt_pkg.Cache"><tt class="xref py py-class docutils literal"><span class="pre">Cache</span></tt></a>, this
function takes a single <a class="reference internal" href="apt.progress.base.html#apt.progress.base.OpProgress" title="apt.progress.base.OpProgress"><tt class="xref py py-class docutils literal"><span class="pre">apt.progress.base.OpProgress</span></tt></a>
object to display progress information.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.DepCache.read_pinfile">
<tt class="descname">read_pinfile</tt><big>(</big><em>file: str</em><big>)</big><a class="headerlink" href="#apt_pkg.DepCache.read_pinfile" title="Permalink to this definition">¶</a></dt>
<dd><p>A proxy function which calls the method <a class="reference internal" href="#apt_pkg.Policy.read_pinfile" title="apt_pkg.Policy.read_pinfile"><tt class="xref py py-meth docutils literal"><span class="pre">Policy.read_pinfile()</span></tt></a> of
the <a class="reference internal" href="#apt_pkg.Policy" title="apt_pkg.Policy"><tt class="xref py py-class docutils literal"><span class="pre">Policy</span></tt></a> object used by this object. This method raises
a <tt class="xref py py-exc docutils literal"><span class="pre">SystemError</span></tt> exception if the file could not be parsed.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.DepCache.set_candidate_ver">
<tt class="descname">set_candidate_ver</tt><big>(</big><em>pkg: Package</em>, <em>version: Version</em><big>)</big> &rarr; bool<a class="headerlink" href="#apt_pkg.DepCache.set_candidate_ver" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the candidate version of the package given by the <a class="reference internal" href="#apt_pkg.Package" title="apt_pkg.Package"><tt class="xref py py-class docutils literal"><span class="pre">Package</span></tt></a>
object <em>pkg</em> to the version given by the <a class="reference internal" href="#apt_pkg.Version" title="apt_pkg.Version"><tt class="xref py py-class docutils literal"><span class="pre">Version</span></tt></a> object
<em>version</em> and return <tt class="docutils literal"><span class="pre">True</span></tt>. If odd things happen, this function
may raise a <tt class="xref py py-exc docutils literal"><span class="pre">SystemError</span></tt> exception, but this should not
happen in normal usage. See <a class="reference internal" href="#apt_pkg.DepCache.get_candidate_ver" title="apt_pkg.DepCache.get_candidate_ver"><tt class="xref py py-meth docutils literal"><span class="pre">get_candidate_ver()</span></tt></a> for a way
to retrieve the candidate version of a package.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.DepCache.upgrade">
<tt class="descname">upgrade</tt><big>(</big><span class="optional">[</span><em>dist_upgrade=False</em><span class="optional">]</span><big>)</big> &rarr; bool<a class="headerlink" href="#apt_pkg.DepCache.upgrade" title="Permalink to this definition">¶</a></dt>
<dd><p>Mark the packages for upgrade under the same conditions
<strong class="program">apt-get</strong> does. If <em>dist_upgrade</em> is <tt class="docutils literal"><span class="pre">True</span></tt>, also
allow packages to be upgraded if they require installation/removal
of other packages; just like apt-get dist-upgrade.</p>
<p>Despite returning a boolean value, this raises <tt class="xref py py-exc docutils literal"><span class="pre">SystemError</span></tt> and
does not return <tt class="docutils literal"><span class="pre">False</span></tt> if an error occurred.</p>
</dd></dl>

<p>The following methods can mark a single package for installation,
removal, etc:</p>
<dl class="method">
<dt id="apt_pkg.DepCache.mark_auto">
<tt class="descname">mark_auto</tt><big>(</big><em>pkg: Package</em><big>)</big><a class="headerlink" href="#apt_pkg.DepCache.mark_auto" title="Permalink to this definition">¶</a></dt>
<dd><p>Mark the <a class="reference internal" href="#apt_pkg.Package" title="apt_pkg.Package"><tt class="xref py py-class docutils literal"><span class="pre">Package</span></tt></a> <em>pkg</em> as automatically installed.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.DepCache.mark_keep">
<tt class="descname">mark_keep</tt><big>(</big><em>pkg: Package</em><big>)</big><a class="headerlink" href="#apt_pkg.DepCache.mark_keep" title="Permalink to this definition">¶</a></dt>
<dd><p>Mark the <a class="reference internal" href="#apt_pkg.Package" title="apt_pkg.Package"><tt class="xref py py-class docutils literal"><span class="pre">Package</span></tt></a> <em>pkg</em> for keep.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.DepCache.mark_delete">
<tt class="descname">mark_delete</tt><big>(</big><em>pkg: Package</em><span class="optional">[</span>, <em>purge</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#apt_pkg.DepCache.mark_delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Mark the <a class="reference internal" href="#apt_pkg.Package" title="apt_pkg.Package"><tt class="xref py py-class docutils literal"><span class="pre">Package</span></tt></a> <em>pkg</em> for delete. If <em>purge</em> is True,
the configuration files will be removed as well.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.DepCache.mark_install">
<tt class="descname">mark_install</tt><big>(</big><em>pkg: Package</em><span class="optional">[</span>, <em>auto_inst=True</em><span class="optional">[</span>, <em>from_user=True</em><span class="optional">]</span><span class="optional">]</span><big>)</big><a class="headerlink" href="#apt_pkg.DepCache.mark_install" title="Permalink to this definition">¶</a></dt>
<dd><p>Mark the <a class="reference internal" href="#apt_pkg.Package" title="apt_pkg.Package"><tt class="xref py py-class docutils literal"><span class="pre">Package</span></tt></a> <em>pkg</em> for install, and, if <em>auto_inst</em>
is <tt class="docutils literal"><span class="pre">True</span></tt>, its dependencies as well. If <em>from_user</em> is <tt class="docutils literal"><span class="pre">True</span></tt>,
the package will <strong>not</strong> be marked as automatically installed.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.DepCache.set_reinstall">
<tt class="descname">set_reinstall</tt><big>(</big><em>pkg: Package</em><big>)</big><a class="headerlink" href="#apt_pkg.DepCache.set_reinstall" title="Permalink to this definition">¶</a></dt>
<dd><p>Set if the <a class="reference internal" href="#apt_pkg.Package" title="apt_pkg.Package"><tt class="xref py py-class docutils literal"><span class="pre">Package</span></tt></a> <em>pkg</em> should be reinstalled.</p>
</dd></dl>

<p>The following methods can be used to check the state of a package:</p>
<dl class="method">
<dt id="apt_pkg.DepCache.is_auto_installed">
<tt class="descname">is_auto_installed</tt><big>(</big><em>pkg: Package</em><big>)</big> &rarr; bool<a class="headerlink" href="#apt_pkg.DepCache.is_auto_installed" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <tt class="docutils literal"><span class="pre">True</span></tt> if the package is automatically installed, that
is, as a dependency of another package.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.DepCache.is_garbage">
<tt class="descname">is_garbage</tt><big>(</big><em>pkg: Package</em><big>)</big> &rarr; bool<a class="headerlink" href="#apt_pkg.DepCache.is_garbage" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <tt class="docutils literal"><span class="pre">True</span></tt> if the package is garbage, that is, if it was
automatically installed and no longer referenced by other packages.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.DepCache.is_inst_broken">
<tt class="descname">is_inst_broken</tt><big>(</big><em>pkg: Package</em><big>)</big> &rarr; bool<a class="headerlink" href="#apt_pkg.DepCache.is_inst_broken" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <tt class="docutils literal"><span class="pre">True</span></tt> if the package is broken on the current install. This
takes changes which have not been marked not into account.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.DepCache.is_now_broken">
<tt class="descname">is_now_broken</tt><big>(</big><em>pkg: Package</em><big>)</big> &rarr; bool<a class="headerlink" href="#apt_pkg.DepCache.is_now_broken" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <tt class="docutils literal"><span class="pre">True</span></tt> if the package is now broken, that is, if the package
is broken if the marked changes are applied.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.DepCache.is_upgradable">
<tt class="descname">is_upgradable</tt><big>(</big><em>pkg: Package</em><big>)</big> &rarr; bool<a class="headerlink" href="#apt_pkg.DepCache.is_upgradable" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <tt class="docutils literal"><span class="pre">True</span></tt> if the package is upgradable, the package can then
be marked for upgrade by calling the method <a class="reference internal" href="#apt_pkg.DepCache.mark_install" title="apt_pkg.DepCache.mark_install"><tt class="xref py py-meth docutils literal"><span class="pre">mark_install()</span></tt></a>.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.DepCache.marked_delete">
<tt class="descname">marked_delete</tt><big>(</big><em>pkg: Package</em><big>)</big> &rarr; bool<a class="headerlink" href="#apt_pkg.DepCache.marked_delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <tt class="docutils literal"><span class="pre">True</span></tt> if the package is marked for delete.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.DepCache.marked_downgrade">
<tt class="descname">marked_downgrade</tt><big>(</big><em>pkg: Package</em><big>)</big> &rarr; bool<a class="headerlink" href="#apt_pkg.DepCache.marked_downgrade" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <tt class="docutils literal"><span class="pre">True</span></tt> if the package should be downgraded.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.DepCache.marked_install">
<tt class="descname">marked_install</tt><big>(</big><em>pkg: Package</em><big>)</big> &rarr; bool<a class="headerlink" href="#apt_pkg.DepCache.marked_install" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <tt class="docutils literal"><span class="pre">True</span></tt> if the package is marked for install.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.DepCache.marked_keep">
<tt class="descname">marked_keep</tt><big>(</big><em>pkg: Package</em><big>)</big> &rarr; bool<a class="headerlink" href="#apt_pkg.DepCache.marked_keep" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <tt class="docutils literal"><span class="pre">True</span></tt> if the package is marked for keep.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.DepCache.marked_reinstall">
<tt class="descname">marked_reinstall</tt><big>(</big><em>pkg: Package</em><big>)</big> &rarr; bool<a class="headerlink" href="#apt_pkg.DepCache.marked_reinstall" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <tt class="docutils literal"><span class="pre">True</span></tt> if the package should be reinstalled.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.DepCache.marked_upgrade">
<tt class="descname">marked_upgrade</tt><big>(</big><em>pkg: Package</em><big>)</big> &rarr; bool<a class="headerlink" href="#apt_pkg.DepCache.marked_upgrade" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <tt class="docutils literal"><span class="pre">True</span></tt> if the package is marked for upgrade.</p>
</dd></dl>

<p>DepCache objects also provide several attributes containing information
on the marked changes:</p>
<dl class="attribute">
<dt id="apt_pkg.DepCache.keep_count">
<tt class="descname">keep_count</tt><a class="headerlink" href="#apt_pkg.DepCache.keep_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer, number of packages marked as keep</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.DepCache.inst_count">
<tt class="descname">inst_count</tt><a class="headerlink" href="#apt_pkg.DepCache.inst_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer, number of packages marked for installation.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.DepCache.del_count">
<tt class="descname">del_count</tt><a class="headerlink" href="#apt_pkg.DepCache.del_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of packages which should be removed.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.DepCache.broken_count">
<tt class="descname">broken_count</tt><a class="headerlink" href="#apt_pkg.DepCache.broken_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of packages which are broken.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.DepCache.usr_size">
<tt class="descname">usr_size</tt><a class="headerlink" href="#apt_pkg.DepCache.usr_size" title="Permalink to this definition">¶</a></dt>
<dd><p>The size required for the changes on the filesystem. If you install
packages, this is positive, if you remove them its negative.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.DepCache.deb_size">
<tt class="descname">deb_size</tt><a class="headerlink" href="#apt_pkg.DepCache.deb_size" title="Permalink to this definition">¶</a></dt>
<dd><p>The size of the packages which are needed for the changes to be
applied.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.DepCache.policy">
<tt class="descname">policy</tt><a class="headerlink" href="#apt_pkg.DepCache.policy" title="Permalink to this definition">¶</a></dt>
<dd><p>The underlying <a class="reference internal" href="#apt_pkg.Policy" title="apt_pkg.Policy"><tt class="xref py py-class docutils literal"><span class="pre">Policy</span></tt></a> object used by the <a class="reference internal" href="#apt_pkg.DepCache" title="apt_pkg.DepCache"><tt class="xref py py-class docutils literal"><span class="pre">DepCache</span></tt></a> to
select candidate versions.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="installing-with-packagemanager">
<h3>Installing with <a class="reference internal" href="#apt_pkg.PackageManager" title="apt_pkg.PackageManager"><tt class="xref py py-class docutils literal"><span class="pre">PackageManager</span></tt></a><a class="headerlink" href="#installing-with-packagemanager" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="apt_pkg.PackageManager">
<em class="property">class </em><tt class="descclassname">apt_pkg.</tt><tt class="descname">PackageManager</tt><big>(</big><em>depcache</em><big>)</big><a class="headerlink" href="#apt_pkg.PackageManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstraction of a package manager. This object takes care of retrieving
packages, ordering the installation, and calling the package manager to
do the actual installation.</p>
<dl class="method">
<dt id="apt_pkg.PackageManager.get_archives">
<tt class="descname">get_archives</tt><big>(</big><em>fetcher</em>, <em>list</em>, <em>records</em><big>)</big> &rarr; bool<a class="headerlink" href="#apt_pkg.PackageManager.get_archives" title="Permalink to this definition">¶</a></dt>
<dd><p>Add all packages marked for installation (or upgrade, anything
which needs a download) to the <a class="reference internal" href="#apt_pkg.Acquire" title="apt_pkg.Acquire"><tt class="xref py py-class docutils literal"><span class="pre">Acquire</span></tt></a> object referenced
by <em>fetcher</em>.</p>
<p>The parameter <em>list</em> specifies a <a class="reference internal" href="#apt_pkg.SourceList" title="apt_pkg.SourceList"><tt class="xref py py-class docutils literal"><span class="pre">SourceList</span></tt></a> object which
is used to retrieve the information about the archive URI for the
packages which will be fetched.</p>
<p>The parameter <em>records</em> takes a <a class="reference internal" href="#apt_pkg.PackageRecords" title="apt_pkg.PackageRecords"><tt class="xref py py-class docutils literal"><span class="pre">PackageRecords</span></tt></a> object which
will be used to look up the file name of the package.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.PackageManager.do_install">
<tt class="descname">do_install</tt><big>(</big><em>status_fd: int</em><big>)</big> &rarr; int<a class="headerlink" href="#apt_pkg.PackageManager.do_install" title="Permalink to this definition">¶</a></dt>
<dd><p>Install the packages and return one of the class constants
<a class="reference internal" href="#apt_pkg.PackageManager.RESULT_COMPLETED" title="apt_pkg.PackageManager.RESULT_COMPLETED"><tt class="xref py py-attr docutils literal"><span class="pre">RESULT_COMPLETED</span></tt></a>, <a class="reference internal" href="#apt_pkg.PackageManager.RESULT_FAILED" title="apt_pkg.PackageManager.RESULT_FAILED"><tt class="xref py py-attr docutils literal"><span class="pre">RESULT_FAILED</span></tt></a>,
<a class="reference internal" href="#apt_pkg.PackageManager.RESULT_INCOMPLETE" title="apt_pkg.PackageManager.RESULT_INCOMPLETE"><tt class="xref py py-attr docutils literal"><span class="pre">RESULT_INCOMPLETE</span></tt></a>. The argument <em>status_fd</em> can be used
to specify a file descriptor that APT will write status information
on (see README.progress-reporting in the apt source code for
information on what will be written there).</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.PackageManager.fix_missing">
<tt class="descname">fix_missing</tt><big>(</big><big>)</big> &rarr; bool<a class="headerlink" href="#apt_pkg.PackageManager.fix_missing" title="Permalink to this definition">¶</a></dt>
<dd><p>Fix the installation if a package could not be downloaded.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.PackageManager.RESULT_COMPLETED">
<tt class="descname">RESULT_COMPLETED</tt><a class="headerlink" href="#apt_pkg.PackageManager.RESULT_COMPLETED" title="Permalink to this definition">¶</a></dt>
<dd><p>A constant for checking whether the result of the call to
<a class="reference internal" href="#apt_pkg.PackageManager.do_install" title="apt_pkg.PackageManager.do_install"><tt class="xref py py-meth docutils literal"><span class="pre">do_install()</span></tt></a> is &#8216;failed&#8217;.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.PackageManager.RESULT_FAILED">
<tt class="descname">RESULT_FAILED</tt><a class="headerlink" href="#apt_pkg.PackageManager.RESULT_FAILED" title="Permalink to this definition">¶</a></dt>
<dd><p>A constant for checking whether the result of the call to
<a class="reference internal" href="#apt_pkg.PackageManager.do_install" title="apt_pkg.PackageManager.do_install"><tt class="xref py py-meth docutils literal"><span class="pre">do_install()</span></tt></a> is &#8216;failed&#8217;.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.PackageManager.RESULT_INCOMPLETE">
<tt class="descname">RESULT_INCOMPLETE</tt><a class="headerlink" href="#apt_pkg.PackageManager.RESULT_INCOMPLETE" title="Permalink to this definition">¶</a></dt>
<dd><p>A constant for checking whether the result of the call to
<a class="reference internal" href="#apt_pkg.PackageManager.do_install" title="apt_pkg.PackageManager.do_install"><tt class="xref py py-meth docutils literal"><span class="pre">do_install()</span></tt></a> is &#8216;incomplete&#8217;.</p>
</dd></dl>

<p>All instances of this class also support the following methods:</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This methods are provided mainly for subclassing purposes
and should not be used in most programs. This class is a
subclass of an internal <tt class="xref py py-class docutils literal"><span class="pre">_PackageManager</span></tt> which does
not provide that methods. As the public C++ API creates such
an object without those methods, you should not rely on those
methods to be available unless you used the constructor of
<a class="reference internal" href="#apt_pkg.PackageManager" title="apt_pkg.PackageManager"><tt class="xref py py-class docutils literal"><span class="pre">PackageManager</span></tt></a> to create the object.</p>
</div>
<dl class="method">
<dt id="apt_pkg.PackageManager.configure">
<tt class="descname">configure</tt><big>(</big><em>pkg: Package</em><big>)</big> &rarr; bool<a class="headerlink" href="#apt_pkg.PackageManager.configure" title="Permalink to this definition">¶</a></dt>
<dd><p>Notify the package manager that the <a class="reference internal" href="#apt_pkg.Package" title="apt_pkg.Package"><tt class="xref py py-class docutils literal"><span class="pre">Package</span></tt></a> given
by <em>pkg</em> is to be configured. Must return a <tt class="docutils literal"><span class="pre">True</span></tt> value
or <tt class="docutils literal"><span class="pre">None</span></tt> to continue, or a value which is <tt class="docutils literal"><span class="pre">False</span></tt> if
evaluated as boolean to abort.</p>
<p class="versionadded">
<span class="versionmodified">New in version 0.8.0.</span></p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.PackageManager.install">
<tt class="descname">install</tt><big>(</big><em>pkg: Package</em>, <em>filename: str</em><big>)</big> &rarr; bool<a class="headerlink" href="#apt_pkg.PackageManager.install" title="Permalink to this definition">¶</a></dt>
<dd><p>Notify the package manager that the <a class="reference internal" href="#apt_pkg.Package" title="apt_pkg.Package"><tt class="xref py py-class docutils literal"><span class="pre">Package</span></tt></a> given
by <em>pkg</em> is to be installed from the .deb located at
<em>filename</em>. Must return a <tt class="docutils literal"><span class="pre">True</span></tt> value or <tt class="docutils literal"><span class="pre">None</span></tt> to
continue, or a value which is <tt class="docutils literal"><span class="pre">False</span></tt> if evaluated as
boolean to abort.</p>
<p class="versionadded">
<span class="versionmodified">New in version 0.8.0.</span></p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.PackageManager.remove">
<tt class="descname">remove</tt><big>(</big><em>pkg: Package</em>, <em>purge: bool</em><big>)</big> &rarr; bool<a class="headerlink" href="#apt_pkg.PackageManager.remove" title="Permalink to this definition">¶</a></dt>
<dd><p>Notify the package manager that the <a class="reference internal" href="#apt_pkg.Package" title="apt_pkg.Package"><tt class="xref py py-class docutils literal"><span class="pre">Package</span></tt></a> given
by <em>pkg</em> is to be removed. If <em>purge</em> is <tt class="docutils literal"><span class="pre">True</span></tt>, the package
shall be purged. Must return a <tt class="docutils literal"><span class="pre">True</span></tt> value or <tt class="docutils literal"><span class="pre">None</span></tt> to
continue, or a value which is <tt class="docutils literal"><span class="pre">False</span></tt> if evaluated as boolean
to abort.</p>
<p class="versionadded">
<span class="versionmodified">New in version 0.8.0.</span></p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.PackageManager.go">
<tt class="descname">go</tt><big>(</big><em>status_fd: int</em><big>)</big> &rarr; bool<a class="headerlink" href="#apt_pkg.PackageManager.go" title="Permalink to this definition">¶</a></dt>
<dd><p>Start dpkg, writing status information to the file descriptor
given by <em>status_fd</em>. Must return a <tt class="docutils literal"><span class="pre">True</span></tt> value or <tt class="docutils literal"><span class="pre">None</span></tt> to
continue, or a value which is <tt class="docutils literal"><span class="pre">False</span></tt> if evaluated as boolean
to abort.</p>
<p class="versionadded">
<span class="versionmodified">New in version 0.8.0.</span></p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.PackageManager.reset">
<tt class="descname">reset</tt><big>(</big><big>)</big><a class="headerlink" href="#apt_pkg.PackageManager.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset the package manager for a new round.</p>
<p class="versionadded">
<span class="versionmodified">New in version 0.8.0.</span></p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="installation-ordering-with-orderlist">
<h3>Installation ordering with <a class="reference internal" href="#apt_pkg.OrderList" title="apt_pkg.OrderList"><tt class="xref py py-class docutils literal"><span class="pre">OrderList</span></tt></a><a class="headerlink" href="#installation-ordering-with-orderlist" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="apt_pkg.OrderList">
<em class="property">class </em><tt class="descclassname">apt_pkg.</tt><tt class="descname">OrderList</tt><big>(</big><em>depcache: DepCache</em><big>)</big><a class="headerlink" href="#apt_pkg.OrderList" title="Permalink to this definition">¶</a></dt>
<dd><p>Represent a <tt class="xref c c-type docutils literal"><span class="pre">pkgOrderList</span></tt>, used for installation
ordering. This class provides several methods and attributes,
is complicated and should not be used by normal programs.</p>
<p class="versionadded">
<span class="versionmodified">New in version 0.8.0.</span></p>
<p>This class is a sequence and supports the following operations:</p>
<dl class="describe">
<dt>
<tt class="descname">list[index]</tt></dt>
<dd><p>Get the package at the given index in the list. Negative
index is supported.</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">len(list)</tt></dt>
<dd><p>The length of the list.</p>
</dd></dl>

<p>It also supports the append() method from <tt class="xref py py-class docutils literal"><span class="pre">list</span></tt>:</p>
<dl class="method">
<dt id="apt_pkg.OrderList.append">
<tt class="descname">append</tt><big>(</big><em>pkg: Package</em><big>)</big><a class="headerlink" href="#apt_pkg.OrderList.append" title="Permalink to this definition">¶</a></dt>
<dd><p>Append a new package to the end of the list. Please note that
you may not append a package twice, as only as much packages
as in the cache can be added.</p>
</dd></dl>

<p>The class also defines several specific attributes and methods,
to be described hereinafter.</p>
<dl class="method">
<dt id="apt_pkg.OrderList.score">
<tt class="descname">score</tt><big>(</big><em>pkg: Package</em><big>)</big><a class="headerlink" href="#apt_pkg.OrderList.score" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the score of the package. Packages are basically
ordered by descending score.</p>
</dd></dl>

<p>This class allows flags to be set on packages. Those flags are:</p>
<dl class="attribute">
<dt id="apt_pkg.OrderList.FLAG_ADDED">
<tt class="descname">FLAG_ADDED</tt><a class="headerlink" href="#apt_pkg.OrderList.FLAG_ADDED" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="apt_pkg.OrderList.FLAG_ADD_PENDING">
<tt class="descname">FLAG_ADD_PENDING</tt><a class="headerlink" href="#apt_pkg.OrderList.FLAG_ADD_PENDING" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="apt_pkg.OrderList.FLAG_IMMEDIATE">
<tt class="descname">FLAG_IMMEDIATE</tt><a class="headerlink" href="#apt_pkg.OrderList.FLAG_IMMEDIATE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="apt_pkg.OrderList.FLAG_LOOP">
<tt class="descname">FLAG_LOOP</tt><a class="headerlink" href="#apt_pkg.OrderList.FLAG_LOOP" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="apt_pkg.OrderList.FLAG_UNPACKED">
<tt class="descname">FLAG_UNPACKED</tt><a class="headerlink" href="#apt_pkg.OrderList.FLAG_UNPACKED" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="apt_pkg.OrderList.FLAG_CONFIGURED">
<tt class="descname">FLAG_CONFIGURED</tt><a class="headerlink" href="#apt_pkg.OrderList.FLAG_CONFIGURED" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="apt_pkg.OrderList.FLAG_REMOVED">
<tt class="descname">FLAG_REMOVED</tt><a class="headerlink" href="#apt_pkg.OrderList.FLAG_REMOVED" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="apt_pkg.OrderList.FLAG_STATES_MASK">
<tt class="descname">FLAG_STATES_MASK</tt><a class="headerlink" href="#apt_pkg.OrderList.FLAG_STATES_MASK" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as <tt class="docutils literal"><span class="pre">FLAG_UNPACKED</span> <span class="pre">|</span> <span class="pre">FLAG_CONFIGURED</span> <span class="pre">|</span> <span class="pre">FLAG_REMOVED</span></tt></p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.OrderList.FLAG_IN_LIST">
<tt class="descname">FLAG_IN_LIST</tt><a class="headerlink" href="#apt_pkg.OrderList.FLAG_IN_LIST" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="apt_pkg.OrderList.FLAG_AFTER">
<tt class="descname">FLAG_AFTER</tt><a class="headerlink" href="#apt_pkg.OrderList.FLAG_AFTER" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>The methods to work with those flags are:</p>
<dl class="method">
<dt id="apt_pkg.OrderList.flag">
<tt class="descname">flag</tt><big>(</big><em>pkg: Package</em>, <em>flag: int</em><span class="optional">[</span>, <em>unset_flags: int</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#apt_pkg.OrderList.flag" title="Permalink to this definition">¶</a></dt>
<dd><p>Flag a package. Sets the flags given in <em>flag</em> and unsets
any flags given in <em>unset_flags</em>.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.OrderList.is_flag">
<tt class="descname">is_flag</tt><big>(</big><em>pkg: Package</em>, <em>flag: int</em><big>)</big><a class="headerlink" href="#apt_pkg.OrderList.is_flag" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether the flags in <em>flag</em> are set for the package.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.OrderList.wipe_flags">
<tt class="descname">wipe_flags</tt><big>(</big><em>flags: int</em><big>)</big><a class="headerlink" href="#apt_pkg.OrderList.wipe_flags" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove the flags in <em>flags</em> from all packages.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.OrderList.is_missing">
<tt class="descname">is_missing</tt><big>(</big><em>pkg: Package</em><big>)</big><a class="headerlink" href="#apt_pkg.OrderList.is_missing" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the package is missing (not really usable right now)</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.OrderList.is_now">
<tt class="descname">is_now</tt><big>(</big><em>pkg: Package</em><big>)</big><a class="headerlink" href="#apt_pkg.OrderList.is_now" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the package is flagged for any state but removal.</p>
</dd></dl>

<p>The following methods for ordering are provided:</p>
<dl class="method">
<dt id="apt_pkg.OrderList.order_critical">
<tt class="descname">order_critical</tt><big>(</big><big>)</big><a class="headerlink" href="#apt_pkg.OrderList.order_critical" title="Permalink to this definition">¶</a></dt>
<dd><p>Order the packages for critical unpacking; that is, only
respect pre-dependencies.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.OrderList.order_unpack">
<tt class="descname">order_unpack</tt><big>(</big><big>)</big><a class="headerlink" href="#apt_pkg.OrderList.order_unpack" title="Permalink to this definition">¶</a></dt>
<dd><p>Order the packages for unpacking, repecting Pre-Depends and
Conflicts.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.OrderList.order_configure">
<tt class="descname">order_configure</tt><big>(</big><big>)</big><a class="headerlink" href="#apt_pkg.OrderList.order_configure" title="Permalink to this definition">¶</a></dt>
<dd><p>Order the packages for configuration, respecting Depends.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="improve-performance-with-actiongroup">
<h3>Improve performance with <a class="reference internal" href="#apt_pkg.ActionGroup" title="apt_pkg.ActionGroup"><tt class="xref py py-class docutils literal"><span class="pre">ActionGroup</span></tt></a><a class="headerlink" href="#improve-performance-with-actiongroup" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="apt_pkg.ActionGroup">
<em class="property">class </em><tt class="descclassname">apt_pkg.</tt><tt class="descname">ActionGroup</tt><big>(</big><em>depcache</em><big>)</big><a class="headerlink" href="#apt_pkg.ActionGroup" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new <a class="reference internal" href="#apt_pkg.ActionGroup" title="apt_pkg.ActionGroup"><tt class="xref py py-class docutils literal"><span class="pre">ActionGroup()</span></tt></a> object for the <a class="reference internal" href="#apt_pkg.DepCache" title="apt_pkg.DepCache"><tt class="xref py py-class docutils literal"><span class="pre">DepCache</span></tt></a> object
given by the parameter <em>depcache</em>.</p>
<p><a class="reference internal" href="#apt_pkg.ActionGroup" title="apt_pkg.ActionGroup"><tt class="xref py py-class docutils literal"><span class="pre">ActionGroup()</span></tt></a> objects make operations on the cache faster by
delaying certain cleanup operations until the action group is released.</p>
<p>An action group is also a context manager and therefore supports the
<a class="reference external" href="http://docs.python.org/reference/compound_stmts.html#with" title="(in Python v2.7)"><tt class="xref std std-keyword docutils literal"><span class="pre">with</span></tt></a> statement. But because it becomes active as soon as it
is created, you should not create an ActionGroup() object before entering
the with statement. Thus, you should always use the following form:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">with</span> <span class="n">apt_pkg</span><span class="o">.</span><span class="n">ActionGroup</span><span class="p">(</span><span class="n">depcache</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>For code which has to run on Python versions prior to 2.5, you can also
use the traditional way:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">actiongroup</span> <span class="o">=</span> <span class="n">apt_pkg</span><span class="o">.</span><span class="n">ActionGroup</span><span class="p">(</span><span class="n">depcache</span><span class="p">)</span>
<span class="o">...</span>
<span class="n">actiongroup</span><span class="o">.</span><span class="n">release</span><span class="p">()</span>
</pre></div>
</div>
<p>In addition to the methods required to implement the context
manager interface, <a class="reference internal" href="#apt_pkg.ActionGroup" title="apt_pkg.ActionGroup"><tt class="xref py py-class docutils literal"><span class="pre">ActionGroup</span></tt></a> objects provide the
following method:</p>
<dl class="method">
<dt id="apt_pkg.ActionGroup.release">
<tt class="descname">release</tt><big>(</big><big>)</big><a class="headerlink" href="#apt_pkg.ActionGroup.release" title="Permalink to this definition">¶</a></dt>
<dd><p>Release the ActionGroup. This will reactive the collection of package
garbage.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="resolving-dependencies-with-problemresolver">
<h3>Resolving Dependencies with <a class="reference internal" href="#apt_pkg.ProblemResolver" title="apt_pkg.ProblemResolver"><tt class="xref py py-class docutils literal"><span class="pre">ProblemResolver</span></tt></a><a class="headerlink" href="#resolving-dependencies-with-problemresolver" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="apt_pkg.ProblemResolver">
<em class="property">class </em><tt class="descclassname">apt_pkg.</tt><tt class="descname">ProblemResolver</tt><big>(</big><em>depcache: DepCache</em><big>)</big><a class="headerlink" href="#apt_pkg.ProblemResolver" title="Permalink to this definition">¶</a></dt>
<dd><p>ProblemResolver objects take care of resolving problems with
dependencies. They mark packages for installation/removal and
try to satisfy all dependencies. The constructor takes a single
argument of the type <a class="reference internal" href="#apt_pkg.DepCache" title="apt_pkg.DepCache"><tt class="xref py py-class docutils literal"><span class="pre">apt_pkg.DepCache</span></tt></a> to determine the
cache that shall be manipulated in order to resolve the problems.</p>
<dl class="method">
<dt id="apt_pkg.ProblemResolver.clear">
<tt class="descname">clear</tt><big>(</big><em>pkg: Package</em><big>)</big><a class="headerlink" href="#apt_pkg.ProblemResolver.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Revert the action of calling <a class="reference internal" href="#apt_pkg.ProblemResolver.protect" title="apt_pkg.ProblemResolver.protect"><tt class="xref py py-meth docutils literal"><span class="pre">protect()</span></tt></a> or <a class="reference internal" href="#apt_pkg.ProblemResolver.remove" title="apt_pkg.ProblemResolver.remove"><tt class="xref py py-meth docutils literal"><span class="pre">remove()</span></tt></a> on
a package, resetting it to the default state.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.ProblemResolver.install_protect">
<tt class="descname">install_protect</tt><big>(</big><big>)</big><a class="headerlink" href="#apt_pkg.ProblemResolver.install_protect" title="Permalink to this definition">¶</a></dt>
<dd><p>Mark all protected packages for installation.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.ProblemResolver.protect">
<tt class="descname">protect</tt><big>(</big><em>pkg: Package</em><big>)</big><a class="headerlink" href="#apt_pkg.ProblemResolver.protect" title="Permalink to this definition">¶</a></dt>
<dd><p>Mark the package given by <em>pkg</em> as protected; that is, its state
will not be changed.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.ProblemResolver.remove">
<tt class="descname">remove</tt><big>(</big><em>pkg: Package</em><big>)</big><a class="headerlink" href="#apt_pkg.ProblemResolver.remove" title="Permalink to this definition">¶</a></dt>
<dd><p>Mark the package given by <em>pkg</em> for removal in the resolver.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.ProblemResolver.resolve">
<tt class="descname">resolve</tt><big>(</big><span class="optional">[</span><em>fix_broken: bool = True</em><span class="optional">]</span><big>)</big> &rarr; bool<a class="headerlink" href="#apt_pkg.ProblemResolver.resolve" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to intelligently resolve problems by installing and removing
packages. If <em>fix_broken</em> is <tt class="docutils literal"><span class="pre">True</span></tt>, apt will try to repair broken
dependencies of installed packages.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.ProblemResolver.resolve_by_keep">
<tt class="descname">resolve_by_keep</tt><big>(</big><big>)</big> &rarr; bool<a class="headerlink" href="#apt_pkg.ProblemResolver.resolve_by_keep" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to resolve the problems without installing or removing packages.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="group-of-packages-with-the-same-name">
<h3><a class="reference internal" href="#apt_pkg.Group" title="apt_pkg.Group"><tt class="xref py py-class docutils literal"><span class="pre">Group</span></tt></a> of packages with the same name<a class="headerlink" href="#group-of-packages-with-the-same-name" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="apt_pkg.Group">
<em class="property">class </em><tt class="descclassname">apt_pkg.</tt><tt class="descname">Group</tt><big>(</big><em>cache: Cache</em>, <em>name: str</em><big>)</big><a class="headerlink" href="#apt_pkg.Group" title="Permalink to this definition">¶</a></dt>
<dd><p class="versionadded">
<span class="versionmodified">New in version 0.8.0.</span></p>
<p>A collection of packages in which all packages have the same name. Groups
are used in multi-arch environments, where two or more packages have the
same name, but different architectures.</p>
<p>Group objects provide the following parts for sequential access:</p>
<dl class="describe">
<dt>
<tt class="descname">group[index]</tt></dt>
<dd><p>Get the package at the given <strong>index</strong> in the group.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Groups are internally implemented using a linked list. The object
keeps a pointer to the current object and the first object, so
access to the first element, or accesses in order have a
complexity of O(1). Random-access complexity is ranges from
O(1) to O(n).</p>
</div>
</dd></dl>

<p>Group objects also provide special methods to find single packages:</p>
<dl class="method">
<dt id="apt_pkg.Group.find_package">
<tt class="descname">find_package</tt><big>(</big><em>architecture: str</em><big>)</big> &rarr; Package<a class="headerlink" href="#apt_pkg.Group.find_package" title="Permalink to this definition">¶</a></dt>
<dd><p>Find a package with the groups name and the architecture given
in the argument <em>architecture</em>. If no such package exists, return
<tt class="docutils literal"><span class="pre">None</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.Group.find_preferred_package">
<tt class="descname">find_preferred_package</tt><big>(</big><em>prefer_nonvirtual: bool = True</em><big>)</big> &rarr; Package<a class="headerlink" href="#apt_pkg.Group.find_preferred_package" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the preferred package. This is the package of the native
architecture (specified in <tt class="docutils literal"><span class="pre">APT::Architecture</span></tt>) if available,
or the package from the first foreign architecture. If no package
could be found, return <tt class="docutils literal"><span class="pre">None</span></tt></p>
<p>If <strong>prefer_nonvirtual</strong> is <tt class="docutils literal"><span class="pre">True</span></tt>, the preferred package
will be a non-virtual package, if one exists.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="package-information">
<h3><a class="reference internal" href="#apt_pkg.Package" title="apt_pkg.Package"><tt class="xref py py-class docutils literal"><span class="pre">Package</span></tt></a> information<a class="headerlink" href="#package-information" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="apt_pkg.Package">
<em class="property">class </em><tt class="descclassname">apt_pkg.</tt><tt class="descname">Package</tt><a class="headerlink" href="#apt_pkg.Package" title="Permalink to this definition">¶</a></dt>
<dd><p>Represent a package. A package is uniquely identified by its name and
architecture and each package can have zero or more versions which can be
accessed via the <a class="reference internal" href="#apt_pkg.version_list" title="apt_pkg.version_list"><tt class="xref py py-attr docutils literal"><span class="pre">version_list</span></tt></a> property. Packages can be
installed and removed by a <a class="reference internal" href="#apt_pkg.DepCache" title="apt_pkg.DepCache"><tt class="xref py py-class docutils literal"><span class="pre">DepCache</span></tt></a> object.</p>
<blockquote>
<div><p>Attributes:</p>
<dl class="attribute">
<dt id="apt_pkg.Package.current_ver">
<tt class="descname">current_ver</tt><a class="headerlink" href="#apt_pkg.Package.current_ver" title="Permalink to this definition">¶</a></dt>
<dd><p>The version currently installed as a <a class="reference internal" href="#apt_pkg.Version" title="apt_pkg.Version"><tt class="xref py py-class docutils literal"><span class="pre">Version</span></tt></a> object, or None
if the package is not installed.</p>
</dd></dl>

</div></blockquote>
<dl class="method">
<dt id="apt_pkg.Package.get_fullname">
<tt class="descname">get_fullname</tt><big>(</big><span class="optional">[</span><em>pretty: bool = False</em><span class="optional">]</span><big>)</big> &rarr; str<a class="headerlink" href="#apt_pkg.Package.get_fullname" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the full name of the package, including the architecture. If
<em>pretty</em> is <tt class="docutils literal"><span class="pre">True</span></tt>, the architecture is omitted for native packages,
that is, an amd64 &#8220;apt&#8221; package on an amd64 system would give &#8220;apt&#8221;.</p>
<p class="versionadded">
<span class="versionmodified">New in version 0.7.100.3.</span></p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.Package.has_provides">
<tt class="descname">has_provides</tt><a class="headerlink" href="#apt_pkg.Package.has_provides" title="Permalink to this definition">¶</a></dt>
<dd><p>A boolean value determining whether the list available via the
attribute <a class="reference internal" href="#apt_pkg.Package.provides_list" title="apt_pkg.Package.provides_list"><tt class="xref py py-attr docutils literal"><span class="pre">provides_list</span></tt></a> has at least one element. This
value may be used in combination with <a class="reference internal" href="#apt_pkg.Package.has_versions" title="apt_pkg.Package.has_versions"><tt class="xref py py-attr docutils literal"><span class="pre">has_versions</span></tt></a> to
check whether a package is virtual; that is, it has no versions
and is provided at least once:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">pkg</span><span class="o">.</span><span class="n">has_provides</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">pkg</span><span class="o">.</span><span class="n">has_versions</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.Package.has_versions">
<tt class="descname">has_versions</tt><a class="headerlink" href="#apt_pkg.Package.has_versions" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>A boolean value determining whether the list available via the
attribute <a class="reference internal" href="#apt_pkg.version_list" title="apt_pkg.version_list"><tt class="xref py py-attr docutils literal"><span class="pre">version_list</span></tt></a> has at least one element. This
value may be used in combination with <a class="reference internal" href="#apt_pkg.Package.has_provides" title="apt_pkg.Package.has_provides"><tt class="xref py py-attr docutils literal"><span class="pre">has_provides</span></tt></a> to
check whether a package is virtual; that is, it has no versions
and is provided at least once:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">pkg</span><span class="o">.</span><span class="n">has_provides</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">pkg</span><span class="o">.</span><span class="n">has_versions</span>
</pre></div>
</div>
</div></blockquote>
<dl class="attribute">
<dt id="apt_pkg.Package.id">
<tt class="descname">id</tt><a class="headerlink" href="#apt_pkg.Package.id" title="Permalink to this definition">¶</a></dt>
<dd><p>The ID of the package. This can be used to store information about
the package. The ID is an int value.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.Package.name">
<tt class="descname">name</tt><a class="headerlink" href="#apt_pkg.Package.name" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the name of the package.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.Package.provides_list">
<tt class="descname">provides_list</tt><a class="headerlink" href="#apt_pkg.Package.provides_list" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of all package versions providing this package. Each element
of the list is a triplet, where the first element is the name of the
provided package, the second element the provided version (empty
string), and the third element the version providing this package
as a <a class="reference internal" href="#apt_pkg.Version" title="apt_pkg.Version"><tt class="xref py py-class docutils literal"><span class="pre">Version</span></tt></a> object.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.Package.rev_depends_list">
<tt class="descname">rev_depends_list</tt><a class="headerlink" href="#apt_pkg.Package.rev_depends_list" title="Permalink to this definition">¶</a></dt>
<dd><p>An iterator of <a class="reference internal" href="#apt_pkg.Dependency" title="apt_pkg.Dependency"><tt class="xref py py-class docutils literal"><span class="pre">Dependency</span></tt></a> objects for dependencies on this
package. The returned iterator is implemented by the class
<a class="reference internal" href="#apt_pkg.Package.DependencyList" title="apt_pkg.Package.DependencyList"><tt class="xref py py-class docutils literal"><span class="pre">DependencyList</span></tt></a>:</p>
<dl class="class">
<dt id="apt_pkg.Package.DependencyList">
<em class="property">class </em><tt class="descname">DependencyList</tt><a class="headerlink" href="#apt_pkg.Package.DependencyList" title="Permalink to this definition">¶</a></dt>
<dd><p>A simple list-like type for representing multiple dependency
objects in an efficient manner; without having to generate
all Dependency objects in advance.</p>
<dl class="describe">
<dt>
<tt class="descname">list[index]</tt></dt>
<dd><p>Return the item at the position <em>index</em> in the list.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.Package.DependencyList.__len__">
<tt class="descname">__len__</tt><big>(</big><big>)</big><a class="headerlink" href="#apt_pkg.Package.DependencyList.__len__" title="Permalink to this definition">¶</a></dt>
<dd><p>The length of the list. This method should not be used
irectly, instead Python&#8217;s built-in function <a class="reference external" href="http://docs.python.org/library/functions.html#len" title="(in Python v2.7)"><tt class="xref py py-func docutils literal"><span class="pre">len()</span></tt></a>
should be used.</p>
</dd></dl>

</dd></dl>

</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.section">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">section</tt><a class="headerlink" href="#apt_pkg.section" title="Permalink to this definition">¶</a></dt>
<dd><p>The section of the package, as specified in the record. The list of
possible sections is defined in the Policy. This is a string.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.version_list">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">version_list</tt><a class="headerlink" href="#apt_pkg.version_list" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of <a class="reference internal" href="#apt_pkg.Version" title="apt_pkg.Version"><tt class="xref py py-class docutils literal"><span class="pre">Version</span></tt></a> objects for all versions of this package
available in the cache.</p>
</dd></dl>

<p><strong>States</strong>:</p>
<dl class="attribute">
<dt id="apt_pkg.selected_state">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">selected_state</tt><a class="headerlink" href="#apt_pkg.selected_state" title="Permalink to this definition">¶</a></dt>
<dd><p>The state we want it to be, ie. if you mark a package for installation,
this is <a class="reference internal" href="#apt_pkg.SELSTATE_INSTALL" title="apt_pkg.SELSTATE_INSTALL"><tt class="xref py py-attr docutils literal"><span class="pre">apt_pkg.SELSTATE_INSTALL</span></tt></a>.</p>
<p>See <a class="reference internal" href="#selstates"><em>Package selection states</em></a> for a list of available states.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.inst_state">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">inst_state</tt><a class="headerlink" href="#apt_pkg.inst_state" title="Permalink to this definition">¶</a></dt>
<dd><p>The state the currently installed version is in. This is normally
<a class="reference internal" href="#apt_pkg.INSTSTATE_OK" title="apt_pkg.INSTSTATE_OK"><tt class="xref py py-attr docutils literal"><span class="pre">apt_pkg.INSTSTATE_OK</span></tt></a>, unless the installation failed.</p>
<p>See <a class="reference internal" href="#inststates"><em>Installed states</em></a> for a list of available states.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.current_state">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">current_state</tt><a class="headerlink" href="#apt_pkg.current_state" title="Permalink to this definition">¶</a></dt>
<dd><p>The current state of the package (not installed, unpacked, installed,
etc). See <a class="reference internal" href="#curstates"><em>Package States</em></a> for a list of available states.</p>
</dd></dl>

<p><strong>Flags</strong>:</p>
<dl class="attribute">
<dt id="apt_pkg.auto">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">auto</tt><a class="headerlink" href="#apt_pkg.auto" title="Permalink to this definition">¶</a></dt>
<dd><p>This flag is here for compatibility purposes and does not appear to
be used anymore in APT. To find out whether a package is marked as
automatically installed, use <a class="reference internal" href="#apt_pkg.DepCache.is_auto_installed" title="apt_pkg.DepCache.is_auto_installed"><tt class="xref py py-meth docutils literal"><span class="pre">DepCache.is_auto_installed()</span></tt></a>
instead.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.essential">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">essential</tt><a class="headerlink" href="#apt_pkg.essential" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether the package has the &#8216;Essential&#8217; flag set; that is,
whether it has a field &#8216;Essential: yes&#8217; in its record.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.important">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">important</tt><a class="headerlink" href="#apt_pkg.important" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether the package has the (obsolete) &#8216;Important&#8217; flag set; that is,
whether it has a field &#8216;Important: yes&#8217; in its record.</p>
</dd></dl>

</dd></dl>

</dd></dl>

<div class="section" id="example">
<h4>Example:<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h4>
<div class="highlight-python"><div class="highlight"><pre><span class="c">#!/usr/bin/python</span>
<span class="sd">&quot;&quot;&quot;Example for packages. Print all essential and important packages&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">apt_pkg</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Main.&quot;&quot;&quot;</span>
    <span class="n">apt_pkg</span><span class="o">.</span><span class="n">init_config</span><span class="p">()</span>
    <span class="n">apt_pkg</span><span class="o">.</span><span class="n">init_system</span><span class="p">()</span>
    <span class="n">cache</span> <span class="o">=</span> <span class="n">apt_pkg</span><span class="o">.</span><span class="n">Cache</span><span class="p">()</span>
    <span class="k">print</span> <span class="s">&quot;Essential packages:&quot;</span>
    <span class="k">for</span> <span class="n">pkg</span> <span class="ow">in</span> <span class="n">cache</span><span class="o">.</span><span class="n">packages</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">pkg</span><span class="o">.</span><span class="n">essential</span><span class="p">:</span>
            <span class="k">print</span> <span class="s">&quot; &quot;</span><span class="p">,</span> <span class="n">pkg</span><span class="o">.</span><span class="n">name</span>
    <span class="k">print</span> <span class="s">&quot;Important packages:&quot;</span>
    <span class="k">for</span> <span class="n">pkg</span> <span class="ow">in</span> <span class="n">cache</span><span class="o">.</span><span class="n">packages</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">pkg</span><span class="o">.</span><span class="n">important</span><span class="p">:</span>
            <span class="k">print</span> <span class="s">&quot; &quot;</span><span class="p">,</span> <span class="n">pkg</span><span class="o">.</span><span class="n">name</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="version">
<h3><a class="reference internal" href="#apt_pkg.Version" title="apt_pkg.Version"><tt class="xref py py-class docutils literal"><span class="pre">Version</span></tt></a><a class="headerlink" href="#version" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="apt_pkg.Version">
<em class="property">class </em><tt class="descclassname">apt_pkg.</tt><tt class="descname">Version</tt><a class="headerlink" href="#apt_pkg.Version" title="Permalink to this definition">¶</a></dt>
<dd><p>The version object contains all information related to a specific package
version.</p>
<dl class="attribute">
<dt id="apt_pkg.Version.arch">
<tt class="descname">arch</tt><a class="headerlink" href="#apt_pkg.Version.arch" title="Permalink to this definition">¶</a></dt>
<dd><p>The architecture of the package, eg. amd64 or all.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.Version.depends_list">
<tt class="descname">depends_list</tt><a class="headerlink" href="#apt_pkg.Version.depends_list" title="Permalink to this definition">¶</a></dt>
<dd><p>This is basically the same as <a class="reference internal" href="#apt_pkg.Version.depends_list_str" title="apt_pkg.Version.depends_list_str"><tt class="xref py py-attr docutils literal"><span class="pre">depends_list_str</span></tt></a>,
but instead of the (&#8216;pkgname&#8217;, &#8216;version&#8217;, &#8216;relation&#8217;) tuples,
it returns <a class="reference internal" href="#apt_pkg.Dependency" title="apt_pkg.Dependency"><tt class="xref py py-class docutils literal"><span class="pre">Dependency</span></tt></a> objects, which can assist you with
useful functions.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.Version.depends_list_str">
<tt class="descname">depends_list_str</tt><a class="headerlink" href="#apt_pkg.Version.depends_list_str" title="Permalink to this definition">¶</a></dt>
<dd><p>A dictionary of dependencies. The key specifies the type of the
dependency (&#8216;Depends&#8217;, &#8216;Recommends&#8217;, etc.).</p>
<p>The value is a list, containing items which refer to the or-groups of
dependencies. Each of these or-groups is itself a list, containing
tuples like (&#8216;pkgname&#8217;, &#8216;version&#8217;, &#8216;relation&#8217;) for each or-choice.</p>
<p>An example return value for a package with a &#8216;Depends: python (&gt;= 2.4)&#8217;
would be:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span><span class="s">&#39;Depends&#39;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">[</span>
                 <span class="p">(</span><span class="s">&#39;python&#39;</span><span class="p">,</span> <span class="s">&#39;2.4&#39;</span><span class="p">,</span> <span class="s">&#39;&gt;=&#39;</span><span class="p">)</span>
                <span class="p">]</span>
            <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The same for a dependency on A (&gt;= 1) | B (&gt;= 2):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span><span class="s">&#39;Depends&#39;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">[</span>
                    <span class="p">(</span><span class="s">&#39;A&#39;</span><span class="p">,</span> <span class="s">&#39;1&#39;</span><span class="p">,</span> <span class="s">&#39;&gt;=&#39;</span><span class="p">),</span>
                    <span class="p">(</span><span class="s">&#39;B&#39;</span><span class="p">,</span> <span class="s">&#39;2&#39;</span><span class="p">,</span> <span class="s">&#39;&gt;=&#39;</span><span class="p">),</span>
                <span class="p">]</span>
            <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The comparison operators are not the Debian ones, but the standard
comparison operators as used in languages such as C and Python. This
means that &#8216;&gt;&#8217; means &#8220;larger than&#8221; and &#8216;&lt;&#8217; means &#8220;less than&#8221;.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.Version.downloadable">
<tt class="descname">downloadable</tt><a class="headerlink" href="#apt_pkg.Version.downloadable" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether this package can be downloaded from a remote site.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.Version.file_list">
<tt class="descname">file_list</tt><a class="headerlink" href="#apt_pkg.Version.file_list" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of (<a class="reference internal" href="#apt_pkg.PackageFile" title="apt_pkg.PackageFile"><tt class="xref py py-class docutils literal"><span class="pre">PackageFile</span></tt></a>, int: index) tuples for all Package
files containing this version of the package.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.Version.hash">
<tt class="descname">hash</tt><a class="headerlink" href="#apt_pkg.Version.hash" title="Permalink to this definition">¶</a></dt>
<dd><p>An integer hash value used for the internal storage.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.Version.id">
<tt class="descname">id</tt><a class="headerlink" href="#apt_pkg.Version.id" title="Permalink to this definition">¶</a></dt>
<dd><p>A numeric identifier which uniquely identifies this version in all
versions in the cache.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.Version.installed_size">
<tt class="descname">installed_size</tt><a class="headerlink" href="#apt_pkg.Version.installed_size" title="Permalink to this definition">¶</a></dt>
<dd><p>The size of the package (in kilobytes), when unpacked on the disk.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.Version.multi_arch">
<tt class="descname">multi_arch</tt><a class="headerlink" href="#apt_pkg.Version.multi_arch" title="Permalink to this definition">¶</a></dt>
<dd><p>The multi-arch state of the package. Can be one of the following
attributes.</p>
<blockquote>
<div><dl class="attribute">
<dt id="apt_pkg.Version.MULTI_ARCH_NONE">
<tt class="descname">MULTI_ARCH_NONE</tt><a class="headerlink" href="#apt_pkg.Version.MULTI_ARCH_NONE" title="Permalink to this definition">¶</a></dt>
<dd><p>No multi-arch</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.Version.MULTI_ARCH_ALL">
<tt class="descname">MULTI_ARCH_ALL</tt><a class="headerlink" href="#apt_pkg.Version.MULTI_ARCH_ALL" title="Permalink to this definition">¶</a></dt>
<dd><p>An <tt class="docutils literal"><span class="pre">Architecture:</span> <span class="pre">all</span></tt> package</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.Version.MULTI_ARCH_FOREIGN">
<tt class="descname">MULTI_ARCH_FOREIGN</tt><a class="headerlink" href="#apt_pkg.Version.MULTI_ARCH_FOREIGN" title="Permalink to this definition">¶</a></dt>
<dd><p>Can satisfy dependencies of foreign-architecture
packages</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.Version.MULTI_ARCH_ALL_FOREIGN">
<tt class="descname">MULTI_ARCH_ALL_FOREIGN</tt><a class="headerlink" href="#apt_pkg.Version.MULTI_ARCH_ALL_FOREIGN" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#apt_pkg.Version.MULTI_ARCH_FOREIGN" title="apt_pkg.Version.MULTI_ARCH_FOREIGN"><tt class="xref py py-attr docutils literal"><span class="pre">MULTI_ARCH_FOREIGN</span></tt></a> for <tt class="docutils literal"><span class="pre">Architecture:</span> <span class="pre">all</span></tt>
packages.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.Version.MULTI_ARCH_SAME">
<tt class="descname">MULTI_ARCH_SAME</tt><a class="headerlink" href="#apt_pkg.Version.MULTI_ARCH_SAME" title="Permalink to this definition">¶</a></dt>
<dd><p>Multiple versions from different architectures may be
installed in parallel, but may only satisfy dependencies
of packages from the same architecture</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.Version.MULTI_ARCH_ALLOWED">
<tt class="descname">MULTI_ARCH_ALLOWED</tt><a class="headerlink" href="#apt_pkg.Version.MULTI_ARCH_ALLOWED" title="Permalink to this definition">¶</a></dt>
<dd><p>Installation in parallel and satisfying <tt class="docutils literal"><span class="pre">pkg:any</span></tt>
style dependencies is allowed.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.Version.MULTI_ARCH_ALL_ALLOWED">
<tt class="descname">MULTI_ARCH_ALL_ALLOWED</tt><a class="headerlink" href="#apt_pkg.Version.MULTI_ARCH_ALL_ALLOWED" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#apt_pkg.Version.MULTI_ARCH_ALLOWED" title="apt_pkg.Version.MULTI_ARCH_ALLOWED"><tt class="xref py py-attr docutils literal"><span class="pre">MULTI_ARCH_ALLOWED</span></tt></a> for <tt class="docutils literal"><span class="pre">Architecture:</span> <span class="pre">all</span></tt>
packages.</p>
</dd></dl>

</div></blockquote>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.Version.parent_pkg">
<tt class="descname">parent_pkg</tt><a class="headerlink" href="#apt_pkg.Version.parent_pkg" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="#apt_pkg.Package" title="apt_pkg.Package"><tt class="xref py py-class docutils literal"><span class="pre">Package</span></tt></a> object this version belongs to.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.Version.priority">
<tt class="descname">priority</tt><a class="headerlink" href="#apt_pkg.Version.priority" title="Permalink to this definition">¶</a></dt>
<dd><p>The integer representation of the priority. This can be used to speed
up comparisons a lot, compared to <a class="reference internal" href="#apt_pkg.Version.priority_str" title="apt_pkg.Version.priority_str"><tt class="xref py py-attr docutils literal"><span class="pre">priority_str</span></tt></a>.</p>
<p>The values are defined in the <a class="reference internal" href="#module-apt_pkg" title="apt_pkg"><tt class="xref py py-mod docutils literal"><span class="pre">apt_pkg</span></tt></a> extension, see
<a class="reference internal" href="#priorities"><em>Priorities</em></a> for more information.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.Version.priority_str">
<tt class="descname">priority_str</tt><a class="headerlink" href="#apt_pkg.Version.priority_str" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the priority of the package version, as a string, eg.
&#8220;optional&#8221;.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.Version.provides_list">
<tt class="descname">provides_list</tt><a class="headerlink" href="#apt_pkg.Version.provides_list" title="Permalink to this definition">¶</a></dt>
<dd><p>This returns a list of all packages provided by this version. Like
<a class="reference internal" href="#apt_pkg.Package.provides_list" title="apt_pkg.Package.provides_list"><tt class="xref py py-attr docutils literal"><span class="pre">Package.provides_list</span></tt></a>, it returns a list of tuples
of the form (&#8216;virtualpkgname&#8217;, &#8216;&#8217;, <a class="reference internal" href="#apt_pkg.Version" title="apt_pkg.Version"><tt class="xref py py-class docutils literal"><span class="pre">Version</span></tt></a>), where as the
last item is the same as the object itself.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.Version.section">
<tt class="descname">section</tt><a class="headerlink" href="#apt_pkg.Version.section" title="Permalink to this definition">¶</a></dt>
<dd><p>The usual sections (eg. admin, net, etc.). Prefixed with the component
name for packages not in main (eg. non-free/admin).</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.Version.size">
<tt class="descname">size</tt><a class="headerlink" href="#apt_pkg.Version.size" title="Permalink to this definition">¶</a></dt>
<dd><p>The size of the .deb file, in bytes.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.Version.translated_description">
<tt class="descname">translated_description</tt><a class="headerlink" href="#apt_pkg.Version.translated_description" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a <a class="reference internal" href="#apt_pkg.Description" title="apt_pkg.Description"><tt class="xref py py-class docutils literal"><span class="pre">Description</span></tt></a> object for the translated description
of this package version.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.Version.ver_str">
<tt class="descname">ver_str</tt><a class="headerlink" href="#apt_pkg.Version.ver_str" title="Permalink to this definition">¶</a></dt>
<dd><p>The version, as a string.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="dependency">
<h3><a class="reference internal" href="#apt_pkg.Dependency" title="apt_pkg.Dependency"><tt class="xref py py-class docutils literal"><span class="pre">Dependency</span></tt></a><a class="headerlink" href="#dependency" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="apt_pkg.Dependency">
<em class="property">class </em><tt class="descclassname">apt_pkg.</tt><tt class="descname">Dependency</tt><a class="headerlink" href="#apt_pkg.Dependency" title="Permalink to this definition">¶</a></dt>
<dd><p>Represent a dependency from one package to another one.</p>
<dl class="method">
<dt id="apt_pkg.Dependency.all_targets">
<tt class="descname">all_targets</tt><big>(</big><big>)</big><a class="headerlink" href="#apt_pkg.Dependency.all_targets" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of <a class="reference internal" href="#apt_pkg.Version" title="apt_pkg.Version"><tt class="xref py py-class docutils literal"><span class="pre">Version</span></tt></a> objects which satisfy the dependency,
and do not conflict with already installed ones.</p>
<p>From my experience, if you use this method to select the target
version, it is the best to select the last item unless any of the
other candidates is already installed. This leads to results being
very close to the normal package installation.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.Dependency.smart_target_pkg">
<tt class="descname">smart_target_pkg</tt><big>(</big><big>)</big><a class="headerlink" href="#apt_pkg.Dependency.smart_target_pkg" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a <a class="reference internal" href="#apt_pkg.Version" title="apt_pkg.Version"><tt class="xref py py-class docutils literal"><span class="pre">Version</span></tt></a> object of a package which satisfies the
dependency and does not conflict with installed packages
(the &#8216;natural target&#8217;).</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.Dependency.comp_type">
<tt class="descname">comp_type</tt><a class="headerlink" href="#apt_pkg.Dependency.comp_type" title="Permalink to this definition">¶</a></dt>
<dd><p>The type of comparison (&gt;=, ==, &gt;&gt;, &lt;=), as string.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.Dependency.dep_type">
<tt class="descname">dep_type</tt><a class="headerlink" href="#apt_pkg.Dependency.dep_type" title="Permalink to this definition">¶</a></dt>
<dd><p>The type of the dependency, as string, eg. &#8220;Depends&#8221;.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.Dependency.dep_type_enum">
<tt class="descname">dep_type_enum</tt><a class="headerlink" href="#apt_pkg.Dependency.dep_type_enum" title="Permalink to this definition">¶</a></dt>
<dd><p>The type of the dependency, as an integer which can be compared to
one of the TYPE_* constants below.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.Dependency.dep_type_untranslated">
<tt class="descname">dep_type_untranslated</tt><a class="headerlink" href="#apt_pkg.Dependency.dep_type_untranslated" title="Permalink to this definition">¶</a></dt>
<dd><p>The type of the depndency, as an untranslated string.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.Dependency.id">
<tt class="descname">id</tt><a class="headerlink" href="#apt_pkg.Dependency.id" title="Permalink to this definition">¶</a></dt>
<dd><p>The ID of the package, as integer.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.Dependency.parent_pkg">
<tt class="descname">parent_pkg</tt><a class="headerlink" href="#apt_pkg.Dependency.parent_pkg" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="#apt_pkg.Package" title="apt_pkg.Package"><tt class="xref py py-class docutils literal"><span class="pre">Package</span></tt></a> object of the package which declares the
dependency. This is the same as using ParentVer.ParentPkg.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.Dependency.parent_ver">
<tt class="descname">parent_ver</tt><a class="headerlink" href="#apt_pkg.Dependency.parent_ver" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="#apt_pkg.Version" title="apt_pkg.Version"><tt class="xref py py-class docutils literal"><span class="pre">Version</span></tt></a> object of the parent version, ie. the package
which declares the dependency.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.Dependency.target_pkg">
<tt class="descname">target_pkg</tt><a class="headerlink" href="#apt_pkg.Dependency.target_pkg" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="#apt_pkg.Package" title="apt_pkg.Package"><tt class="xref py py-class docutils literal"><span class="pre">Package</span></tt></a> object of the target package.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.Dependency.target_ver">
<tt class="descname">target_ver</tt><a class="headerlink" href="#apt_pkg.Dependency.target_ver" title="Permalink to this definition">¶</a></dt>
<dd><p>The target version of the dependency, as string. Empty string if the
dependency is not versioned.</p>
</dd></dl>

<p>The following constants describe all values the attribute <em>dep_type_enum</em>
can take:</p>
<dl class="attribute">
<dt id="apt_pkg.Dependency.TYPE_CONFLICTS">
<tt class="descname">TYPE_CONFLICTS</tt><a class="headerlink" href="#apt_pkg.Dependency.TYPE_CONFLICTS" title="Permalink to this definition">¶</a></dt>
<dd><p>Constant for checking against dep_type_enum</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.Dependency.TYPE_DEPENDS">
<tt class="descname">TYPE_DEPENDS</tt><a class="headerlink" href="#apt_pkg.Dependency.TYPE_DEPENDS" title="Permalink to this definition">¶</a></dt>
<dd><p>Constant for checking against dep_type_enum</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.Dependency.TYPE_DPKG_BREAKS">
<tt class="descname">TYPE_DPKG_BREAKS</tt><a class="headerlink" href="#apt_pkg.Dependency.TYPE_DPKG_BREAKS" title="Permalink to this definition">¶</a></dt>
<dd><p>Constant for checking against dep_type_enum</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.Dependency.TYPE_ENHANCES">
<tt class="descname">TYPE_ENHANCES</tt><a class="headerlink" href="#apt_pkg.Dependency.TYPE_ENHANCES" title="Permalink to this definition">¶</a></dt>
<dd><p>Constant for checking against dep_type_enum</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.Dependency.TYPE_OBSOLETES">
<tt class="descname">TYPE_OBSOLETES</tt><a class="headerlink" href="#apt_pkg.Dependency.TYPE_OBSOLETES" title="Permalink to this definition">¶</a></dt>
<dd><p>Constant for checking against dep_type_enum</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.Dependency.TYPE_PREDEPENDS">
<tt class="descname">TYPE_PREDEPENDS</tt><a class="headerlink" href="#apt_pkg.Dependency.TYPE_PREDEPENDS" title="Permalink to this definition">¶</a></dt>
<dd><p>Constant for checking against dep_type_enum</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.Dependency.TYPE_RECOMMENDS">
<tt class="descname">TYPE_RECOMMENDS</tt><a class="headerlink" href="#apt_pkg.Dependency.TYPE_RECOMMENDS" title="Permalink to this definition">¶</a></dt>
<dd><p>Constant for checking against dep_type_enum</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.Dependency.TYPE_REPLACES">
<tt class="descname">TYPE_REPLACES</tt><a class="headerlink" href="#apt_pkg.Dependency.TYPE_REPLACES" title="Permalink to this definition">¶</a></dt>
<dd><p>Constant for checking against dep_type_enum</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.Dependency.TYPE_SUGGESTS">
<tt class="descname">TYPE_SUGGESTS</tt><a class="headerlink" href="#apt_pkg.Dependency.TYPE_SUGGESTS" title="Permalink to this definition">¶</a></dt>
<dd><p>Constant for checking against dep_type_enum</p>
</dd></dl>

</dd></dl>

<div class="section" id="example-find-all-missing-dependencies">
<h4>Example: Find all missing dependencies<a class="headerlink" href="#example-find-all-missing-dependencies" title="Permalink to this headline">¶</a></h4>
<p>With the help of Dependency.AllTargets(), you can easily find all packages with
broken dependencies:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c">#!/usr/bin/python</span>
<span class="sd">&quot;&quot;&quot;Check the archive for missing dependencies&quot;&quot;&quot;</span>
<span class="kn">import</span> <span class="nn">apt_pkg</span>


<span class="k">def</span> <span class="nf">fmt_dep</span><span class="p">(</span><span class="n">dep</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Format a Dependency object [of apt_pkg] as a string.&quot;&quot;&quot;</span>
    <span class="n">ret</span> <span class="o">=</span> <span class="n">dep</span><span class="o">.</span><span class="n">target_pkg</span><span class="o">.</span><span class="n">name</span>
    <span class="k">if</span> <span class="n">dep</span><span class="o">.</span><span class="n">target_ver</span><span class="p">:</span>
        <span class="n">ret</span> <span class="o">+=</span> <span class="s">&quot; (</span><span class="si">%s</span><span class="s"> </span><span class="si">%s</span><span class="s">)&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">dep</span><span class="o">.</span><span class="n">comp_type</span><span class="p">,</span> <span class="n">dep</span><span class="o">.</span><span class="n">target_ver</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">ret</span>


<span class="k">def</span> <span class="nf">check_version</span><span class="p">(</span><span class="n">pkgver</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Check the version of the package&quot;&quot;&quot;</span>
    <span class="n">missing</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">or_group</span> <span class="ow">in</span> <span class="n">pkgver</span><span class="o">.</span><span class="n">depends_list</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;Pre-Depends&quot;</span><span class="p">,</span> <span class="p">[])</span> <span class="o">+</span> \
                    <span class="n">pkgver</span><span class="o">.</span><span class="n">depends_list</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;Depends&quot;</span><span class="p">,</span> <span class="p">[]):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">any</span><span class="p">(</span><span class="n">dep</span><span class="o">.</span><span class="n">all_targets</span><span class="p">()</span> <span class="k">for</span> <span class="n">dep</span> <span class="ow">in</span> <span class="n">or_group</span><span class="p">):</span>
            <span class="c"># If none of the or-choices can be satisfied, add it to missing</span>
            <span class="n">missing</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">or_group</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">missing</span><span class="p">:</span>
        <span class="k">print</span> <span class="s">&quot;Package:&quot;</span><span class="p">,</span> <span class="n">pkgver</span><span class="o">.</span><span class="n">parent_pkg</span><span class="o">.</span><span class="n">name</span>
        <span class="k">print</span> <span class="s">&quot;Version:&quot;</span><span class="p">,</span> <span class="n">pkgver</span><span class="o">.</span><span class="n">ver_str</span>
        <span class="k">print</span> <span class="s">&quot;Missing:&quot;</span><span class="p">,</span>
        <span class="k">print</span> <span class="s">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s">&quot; | &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">fmt_dep</span><span class="p">(</span><span class="n">dep</span><span class="p">)</span> <span class="k">for</span> <span class="n">dep</span> <span class="ow">in</span> <span class="n">or_group</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">or_group</span> <span class="ow">in</span> <span class="n">missing</span><span class="p">)</span>
        <span class="k">print</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;The main function.&quot;&quot;&quot;</span>
    <span class="n">apt_pkg</span><span class="o">.</span><span class="n">init_config</span><span class="p">()</span>
    <span class="n">apt_pkg</span><span class="o">.</span><span class="n">init_system</span><span class="p">()</span>

    <span class="n">cache</span> <span class="o">=</span> <span class="n">apt_pkg</span><span class="o">.</span><span class="n">Cache</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">pkg</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">cache</span><span class="o">.</span><span class="n">packages</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">pkg</span><span class="p">:</span> <span class="n">pkg</span><span class="o">.</span><span class="n">name</span><span class="p">):</span>
        <span class="c"># pkg is from a list of packages, sorted by name.</span>
        <span class="k">for</span> <span class="n">version</span> <span class="ow">in</span> <span class="n">pkg</span><span class="o">.</span><span class="n">version_list</span><span class="p">:</span>
            <span class="c"># Check every version</span>
            <span class="k">for</span> <span class="n">pfile</span><span class="p">,</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">version</span><span class="o">.</span><span class="n">file_list</span><span class="p">:</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">pfile</span><span class="o">.</span><span class="n">origin</span> <span class="o">==</span> <span class="s">&quot;Debian&quot;</span> <span class="ow">and</span> <span class="n">pfile</span><span class="o">.</span><span class="n">component</span> <span class="o">==</span> <span class="s">&quot;main&quot;</span> <span class="ow">and</span>
                    <span class="n">pfile</span><span class="o">.</span><span class="n">archive</span> <span class="o">==</span> <span class="s">&quot;unstable&quot;</span><span class="p">):</span>
                    <span class="c"># We only want packages from Debian unstable main.</span>
                    <span class="n">check_version</span><span class="p">(</span><span class="n">version</span><span class="p">)</span>
                    <span class="k">break</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="description">
<h3><a class="reference internal" href="#apt_pkg.Description" title="apt_pkg.Description"><tt class="xref py py-class docutils literal"><span class="pre">Description</span></tt></a><a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="apt_pkg.Description">
<em class="property">class </em><tt class="descclassname">apt_pkg.</tt><tt class="descname">Description</tt><a class="headerlink" href="#apt_pkg.Description" title="Permalink to this definition">¶</a></dt>
<dd><p>Represent the description of the package.</p>
<dl class="attribute">
<dt id="apt_pkg.Description.language_code">
<tt class="descname">language_code</tt><a class="headerlink" href="#apt_pkg.Description.language_code" title="Permalink to this definition">¶</a></dt>
<dd><p>The language code of the description; or, if the description
is untranslated, an empty string.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.Description.md5">
<tt class="descname">md5</tt><a class="headerlink" href="#apt_pkg.Description.md5" title="Permalink to this definition">¶</a></dt>
<dd><p>The MD5 checksum of the description.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.Description.file_list">
<tt class="descname">file_list</tt><a class="headerlink" href="#apt_pkg.Description.file_list" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of tuples <tt class="docutils literal"><span class="pre">(packagefile:</span> <span class="pre">PackageFile,</span> <span class="pre">index:</span> <span class="pre">int)</span></tt>.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="package-pinning-with-policy">
<h3>Package Pinning with <a class="reference internal" href="#apt_pkg.Policy" title="apt_pkg.Policy"><tt class="xref py py-class docutils literal"><span class="pre">Policy</span></tt></a><a class="headerlink" href="#package-pinning-with-policy" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="apt_pkg.Policy">
<em class="property">class </em><tt class="descclassname">apt_pkg.</tt><tt class="descname">Policy</tt><big>(</big><em>cache: apt_pkg.Cache</em><big>)</big><a class="headerlink" href="#apt_pkg.Policy" title="Permalink to this definition">¶</a></dt>
<dd><p>Representation of the policy of the <a class="reference internal" href="#apt_pkg.Cache" title="apt_pkg.Cache"><tt class="xref py py-class docutils literal"><span class="pre">Cache</span></tt></a> object given by
<em>cache</em>. This provides a superset of policy-related functionality
compared to the <em>DepCache</em> class. The DepCache can be used for most
purposes, but there may be some cases where a special policy class
is needed.</p>
<dl class="method">
<dt id="apt_pkg.Policy.create_pin">
<tt class="descname">create_pin</tt><big>(</big><em>type: str</em>, <em>pkg: str</em>, <em>data: str</em>, <em>priority: int</em><big>)</big><a class="headerlink" href="#apt_pkg.Policy.create_pin" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a pin for the policy. The parameter <em>type</em> refers to one of the
strings &#8216;Version&#8217;, &#8216;Release&#8217;, or &#8216;Origin&#8217;. The argument <em>pkg</em> is the
name of the package. The parameter <em>data</em> refers to the value (such
as &#8216;unstable&#8217; for type=&#8217;Release&#8217;) and the other possible options.
The parameter &#8216;priority&#8217; gives the priority of the pin.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.Policy.get_candidate_ver">
<tt class="descname">get_candidate_ver</tt><big>(</big><em>package: apt_pkg.Package</em><big>)</big> &rarr; apt_pkg.Version<a class="headerlink" href="#apt_pkg.Policy.get_candidate_ver" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the best package for the job; that is, the package with the
highest pin priority.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.Policy.get_match">
<tt class="descname">get_match</tt><big>(</big><em>package: apt_pkg.Package</em><big>)</big> &rarr; apt_pkg.Version<a class="headerlink" href="#apt_pkg.Policy.get_match" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a version for the package.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.Policy.get_priority">
<tt class="descname">get_priority</tt><big>(</big><em>package: apt_pkg.Package</em><big>)</big> &rarr; int<a class="headerlink" href="#apt_pkg.Policy.get_priority" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the pin priority of the package given by <em>package</em>.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.Policy.read_pindir">
<tt class="descname">read_pindir</tt><big>(</big><em>dirname: str</em><big>)</big> &rarr; bool<a class="headerlink" href="#apt_pkg.Policy.read_pindir" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the pin files in the given dir (e.g. &#8216;/etc/apt/preferences.d&#8217;)
and add them to the policy.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.Policy.read_pinfile">
<tt class="descname">read_pinfile</tt><big>(</big><em>filename: str</em><big>)</big> &rarr; bool<a class="headerlink" href="#apt_pkg.Policy.read_pinfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the pin file given by <em>filename</em> (e.g. &#8216;/etc/apt/preferences&#8217;)
and add it to the policy.</p>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="index-files">
<h2>Index Files<a class="headerlink" href="#index-files" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="apt_pkg.MetaIndex">
<em class="property">class </em><tt class="descclassname">apt_pkg.</tt><tt class="descname">MetaIndex</tt><a class="headerlink" href="#apt_pkg.MetaIndex" title="Permalink to this definition">¶</a></dt>
<dd><p>Represent a Release file as stored in the cache.</p>
<blockquote>
<div><dl class="attribute">
<dt id="apt_pkg.MetaIndex.uri">
<tt class="descname">uri</tt><a class="headerlink" href="#apt_pkg.MetaIndex.uri" title="Permalink to this definition">¶</a></dt>
<dd><p>The URI the meta index file is located at, as a string.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.MetaIndex.dist">
<tt class="descname">dist</tt><a class="headerlink" href="#apt_pkg.MetaIndex.dist" title="Permalink to this definition">¶</a></dt>
<dd><p>The distribution stored in the meta index, as a string.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.MetaIndex.is_trusted">
<tt class="descname">is_trusted</tt><a class="headerlink" href="#apt_pkg.MetaIndex.is_trusted" title="Permalink to this definition">¶</a></dt>
<dd><p>A boolean value determining whether the meta index can be trusted. This
is <tt class="docutils literal"><span class="pre">True</span></tt> for signed Release files.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.MetaIndex.index_files">
<tt class="descname">index_files</tt><a class="headerlink" href="#apt_pkg.MetaIndex.index_files" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of all <a class="reference internal" href="#apt_pkg.IndexFile" title="apt_pkg.IndexFile"><tt class="xref py py-class docutils literal"><span class="pre">IndexFile</span></tt></a> objects associated with this meta
index.</p>
</dd></dl>

</div></blockquote>
</dd></dl>

<dl class="class">
<dt id="apt_pkg.IndexFile">
<em class="property">class </em><tt class="descclassname">apt_pkg.</tt><tt class="descname">IndexFile</tt><a class="headerlink" href="#apt_pkg.IndexFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Represent an index file, that is, package indexes, translation indexes,
and source indexes.</p>
<dl class="method">
<dt id="apt_pkg.IndexFile.archive_uri">
<tt class="descname">archive_uri</tt><big>(</big><em>path: str</em><big>)</big> &rarr; str<a class="headerlink" href="#apt_pkg.IndexFile.archive_uri" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the URI to the given path in the archive.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.IndexFile.label">
<tt class="descname">label</tt><a class="headerlink" href="#apt_pkg.IndexFile.label" title="Permalink to this definition">¶</a></dt>
<dd><p>The label of the index file.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.IndexFile.describe">
<tt class="descname">describe</tt><a class="headerlink" href="#apt_pkg.IndexFile.describe" title="Permalink to this definition">¶</a></dt>
<dd><p>A string describing this object.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.IndexFile.exists">
<tt class="descname">exists</tt><a class="headerlink" href="#apt_pkg.IndexFile.exists" title="Permalink to this definition">¶</a></dt>
<dd><p>A boolean value determining whether the index file exists.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.IndexFile.has_packages">
<tt class="descname">has_packages</tt><a class="headerlink" href="#apt_pkg.IndexFile.has_packages" title="Permalink to this definition">¶</a></dt>
<dd><p>A boolean value determining whether the index file has packages.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.IndexFile.size">
<tt class="descname">size</tt><a class="headerlink" href="#apt_pkg.IndexFile.size" title="Permalink to this definition">¶</a></dt>
<dd><p>The size of the file, measured in bytes.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.IndexFile.is_trusted">
<tt class="descname">is_trusted</tt><a class="headerlink" href="#apt_pkg.IndexFile.is_trusted" title="Permalink to this definition">¶</a></dt>
<dd><p>A boolean value determining whether the file can be trusted; that is,
because it is from a source with a GPG signed Release file.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="apt_pkg.PackageFile">
<em class="property">class </em><tt class="descclassname">apt_pkg.</tt><tt class="descname">PackageFile</tt><a class="headerlink" href="#apt_pkg.PackageFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Provide access to an index file stored in the cache, such as
<tt class="file docutils literal"><span class="pre">/var/lib/dpkg/status</span></tt>.</p>
<dl class="attribute">
<dt id="apt_pkg.PackageFile.architecture">
<tt class="descname">architecture</tt><a class="headerlink" href="#apt_pkg.PackageFile.architecture" title="Permalink to this definition">¶</a></dt>
<dd><p>The architecture of the package file. This attribute normally
contains an empty string and is thus not very useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.PackageFile.archive">
<tt class="descname">archive</tt><a class="headerlink" href="#apt_pkg.PackageFile.archive" title="Permalink to this definition">¶</a></dt>
<dd><p>The archive of the package file as set in the Release file via
the &#8220;Suite&#8221; field. If there is no Release file, this is an empty
string.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.PackageFile.component">
<tt class="descname">component</tt><a class="headerlink" href="#apt_pkg.PackageFile.component" title="Permalink to this definition">¶</a></dt>
<dd><p>The component of the package file, if it is provided by a repository
using the dists/ hierarchy. For other packages files, this property
is an empty string.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.PackageFile.filename">
<tt class="descname">filename</tt><a class="headerlink" href="#apt_pkg.PackageFile.filename" title="Permalink to this definition">¶</a></dt>
<dd><p>The path to the file on the local filesystem.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.PackageFile.id">
<tt class="descname">id</tt><a class="headerlink" href="#apt_pkg.PackageFile.id" title="Permalink to this definition">¶</a></dt>
<dd><p>The ID of the package. This is an integer which can be used to store
further information about the file [eg. as dictionary key].</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.PackageFile.index_type">
<tt class="descname">index_type</tt><a class="headerlink" href="#apt_pkg.PackageFile.index_type" title="Permalink to this definition">¶</a></dt>
<dd><p>A string describing the type of index. Known values are
&#8220;Debian Package Index&#8221;, &#8220;Debian Translation Index&#8221;, and
&#8220;Debian dpkg status file&#8221;.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.PackageFile.label">
<tt class="descname">label</tt><a class="headerlink" href="#apt_pkg.PackageFile.label" title="Permalink to this definition">¶</a></dt>
<dd><p>The label of the package file as set in the release file
via the &#8216;Label&#8217; field. If there is no Release file, this
attribute is an empty string.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.PackageFile.not_automatic">
<tt class="descname">not_automatic</tt><a class="headerlink" href="#apt_pkg.PackageFile.not_automatic" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether packages from this list will be updated automatically. The
default for example is False.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.PackageFile.not_source">
<tt class="descname">not_source</tt><a class="headerlink" href="#apt_pkg.PackageFile.not_source" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether the file has no source from which it can be updated. In such a
case, the value is <tt class="docutils literal"><span class="pre">True</span></tt>; else <tt class="docutils literal"><span class="pre">False</span></tt>. For example, it is
<tt class="docutils literal"><span class="pre">False</span></tt> for <tt class="file docutils literal"><span class="pre">/var/lib/dpkg/status</span></tt>.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">for</span> <span class="n">pkgfile</span> <span class="ow">in</span> <span class="n">cache</span><span class="o">.</span><span class="n">file_list</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">pkgfile</span><span class="o">.</span><span class="n">not_source</span><span class="p">:</span>
        <span class="k">print</span> <span class="s">&#39;The file </span><span class="si">%s</span><span class="s"> has no source.&#39;</span> <span class="o">%</span> <span class="n">pkgfile</span><span class="o">.</span><span class="n">filename</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.PackageFile.origin">
<tt class="descname">origin</tt><a class="headerlink" href="#apt_pkg.PackageFile.origin" title="Permalink to this definition">¶</a></dt>
<dd><p>The Origin, as set in the Release file</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.PackageFile.site">
<tt class="descname">site</tt><a class="headerlink" href="#apt_pkg.PackageFile.site" title="Permalink to this definition">¶</a></dt>
<dd><p>The hostname of the site.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.PackageFile.size">
<tt class="descname">size</tt><a class="headerlink" href="#apt_pkg.PackageFile.size" title="Permalink to this definition">¶</a></dt>
<dd><p>The size of the file.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.PackageFile.version">
<tt class="descname">version</tt><a class="headerlink" href="#apt_pkg.PackageFile.version" title="Permalink to this definition">¶</a></dt>
<dd><p>The version, as set in the release file (eg. &#8220;4.0&#8221; for &#8220;Etch&#8221;)</p>
</dd></dl>

</dd></dl>

<p>The following example shows how to use PackageFile:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c">#!/usr/bin/python</span>
<span class="kn">import</span> <span class="nn">apt_pkg</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Example for PackageFile()&quot;&quot;&quot;</span>
    <span class="n">apt_pkg</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
    <span class="n">cache</span> <span class="o">=</span> <span class="n">apt_pkg</span><span class="o">.</span><span class="n">Cache</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">pkgfile</span> <span class="ow">in</span> <span class="n">cache</span><span class="o">.</span><span class="n">file_list</span><span class="p">:</span>
        <span class="k">print</span> <span class="s">&#39;Package-File:&#39;</span><span class="p">,</span> <span class="n">pkgfile</span><span class="o">.</span><span class="n">filename</span>
        <span class="k">print</span> <span class="s">&#39;Index-Type:&#39;</span><span class="p">,</span> <span class="n">pkgfile</span><span class="o">.</span><span class="n">index_type</span> <span class="c"># &#39;Debian Package Index&#39;</span>
        <span class="k">if</span> <span class="n">pkgfile</span><span class="o">.</span><span class="n">not_source</span><span class="p">:</span>
            <span class="k">print</span> <span class="s">&#39;Source: None&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">pkgfile</span><span class="o">.</span><span class="n">site</span><span class="p">:</span>
                <span class="c"># There is a source, and a site, print the site</span>
                <span class="k">print</span> <span class="s">&#39;Source:&#39;</span><span class="p">,</span> <span class="n">pkgfile</span><span class="o">.</span><span class="n">site</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c"># It seems to be a local repository</span>
                <span class="k">print</span> <span class="s">&#39;Source: Local package file&#39;</span>
        <span class="k">if</span> <span class="n">pkgfile</span><span class="o">.</span><span class="n">not_automatic</span><span class="p">:</span>
            <span class="c"># The system won&#39;t be updated automatically (eg. experimental)</span>
            <span class="k">print</span> <span class="s">&#39;Automatic: No&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">print</span> <span class="s">&#39;Automatic: Yes&#39;</span>
        <span class="k">print</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="records-release-files-packages-sources">
<h2>Records (Release files, Packages, Sources)<a class="headerlink" href="#records-release-files-packages-sources" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="apt_pkg.IndexRecords">
<em class="property">class </em><tt class="descclassname">apt_pkg.</tt><tt class="descname">IndexRecords</tt><a class="headerlink" href="#apt_pkg.IndexRecords" title="Permalink to this definition">¶</a></dt>
<dd><p>Represent a Release file and provide means to read information from
the file. This class provides several methods:</p>
<dl class="method">
<dt id="apt_pkg.IndexRecords.get_dist">
<tt class="descname">get_dist</tt><big>(</big><big>)</big> &rarr; str<a class="headerlink" href="#apt_pkg.IndexRecords.get_dist" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the distribution set in the Release file.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.IndexRecords.load">
<tt class="descname">load</tt><big>(</big><em>filename: str</em><big>)</big><a class="headerlink" href="#apt_pkg.IndexRecords.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the file located at the path given by <em>filename</em>.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.IndexRecords.lookup">
<tt class="descname">lookup</tt><big>(</big><em>key: str) -&gt; (HashString</em>, <em>int</em><big>)</big><a class="headerlink" href="#apt_pkg.IndexRecords.lookup" title="Permalink to this definition">¶</a></dt>
<dd><p>Look up the filename given by <em>key</em> and return a tuple (hash, size),
where the first element <em>hash</em> is a <a class="reference internal" href="#apt_pkg.HashString" title="apt_pkg.HashString"><tt class="xref py py-class docutils literal"><span class="pre">HashString</span></tt></a> object
and the second element <em>size</em> is an int object.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="apt_pkg.PackageRecords">
<em class="property">class </em><tt class="descclassname">apt_pkg.</tt><tt class="descname">PackageRecords</tt><big>(</big><em>cache: apt_pkg.Cache</em><big>)</big><a class="headerlink" href="#apt_pkg.PackageRecords" title="Permalink to this definition">¶</a></dt>
<dd><p>Provide further information about the packages in the <a class="reference internal" href="#apt_pkg.Cache" title="apt_pkg.Cache"><tt class="xref py py-class docutils literal"><span class="pre">Cache</span></tt></a> object
<em>cache</em>. This efficiently parses the package files to provide information
not available in the cache, such as maintainer, hash sums, description,
and the file name of the package. It also provides the complete record
of the package.</p>
<dl class="method">
<dt id="apt_pkg.PackageRecords.lookup">
<tt class="descname">lookup</tt><big>(</big><em>verfile_iter: (PackageFile</em>, <em>int)</em><big>)</big> &rarr; bool<a class="headerlink" href="#apt_pkg.PackageRecords.lookup" title="Permalink to this definition">¶</a></dt>
<dd><p>Change the actual package to the package given by the verfile_iter.</p>
<p>The parameter <em>verfile_iter</em> refers to a tuple consisting
of (<a class="reference internal" href="#apt_pkg.PackageFile" title="apt_pkg.PackageFile"><tt class="xref py py-class docutils literal"><span class="pre">PackageFile()</span></tt></a>, int: index), as returned by various
<tt class="docutils literal"><span class="pre">file_list</span></tt> attributes such as <a class="reference internal" href="#apt_pkg.Version.file_list" title="apt_pkg.Version.file_list"><tt class="xref py py-attr docutils literal"><span class="pre">Version.file_list</span></tt></a>.</p>
<p>Example (shortened):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">cand</span> <span class="o">=</span> <span class="n">depcache</span><span class="o">.</span><span class="n">GetCandidateVer</span><span class="p">(</span><span class="n">cache</span><span class="p">[</span><span class="s">&#39;python-apt&#39;</span><span class="p">])</span>
<span class="n">records</span><span class="o">.</span><span class="n">Lookup</span><span class="p">(</span><span class="n">cand</span><span class="o">.</span><span class="n">FileList</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="c"># Now you can access the record</span>
<span class="k">print</span> <span class="n">records</span><span class="o">.</span><span class="n">SourcePkg</span> <span class="c"># == python-apt</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.PackageRecords.filename">
<tt class="descname">filename</tt><a class="headerlink" href="#apt_pkg.PackageRecords.filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the field &#8216;Filename&#8217; of the record. This is the path to the
package, relative to the base path of the archive.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.PackageRecords.md5_hash">
<tt class="descname">md5_hash</tt><a class="headerlink" href="#apt_pkg.PackageRecords.md5_hash" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the MD5 hashsum of the package This refers to the field
&#8216;MD5Sum&#8217; in the raw record.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.PackageRecords.sha1_hash">
<tt class="descname">sha1_hash</tt><a class="headerlink" href="#apt_pkg.PackageRecords.sha1_hash" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the SHA1 hashsum of the package. This refers to the field &#8216;SHA1&#8217;
in the raw record.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.PackageRecords.sha256_hash">
<tt class="descname">sha256_hash</tt><a class="headerlink" href="#apt_pkg.PackageRecords.sha256_hash" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the SHA256 hashsum of the package. This refers to the field
&#8216;SHA256&#8217; in the raw record.</p>
<p class="versionadded">
<span class="versionmodified">New in version 0.7.9.</span></p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.PackageRecords.source_pkg">
<tt class="descname">source_pkg</tt><a class="headerlink" href="#apt_pkg.PackageRecords.source_pkg" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the source package, if different from the name of the
binary package. This information is retrieved from the &#8216;Source&#8217; field.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.PackageRecords.source_ver">
<tt class="descname">source_ver</tt><a class="headerlink" href="#apt_pkg.PackageRecords.source_ver" title="Permalink to this definition">¶</a></dt>
<dd><p>The version of the source package, if it differs from the version
of the binary package. Just like &#8216;source_pkg&#8217;, this information
is retrieved from the &#8216;Source&#8217; field.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.PackageRecords.maintainer">
<tt class="descname">maintainer</tt><a class="headerlink" href="#apt_pkg.PackageRecords.maintainer" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the maintainer of the package.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.PackageRecords.short_desc">
<tt class="descname">short_desc</tt><a class="headerlink" href="#apt_pkg.PackageRecords.short_desc" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the short description. This is the summary on the first line of
the &#8216;Description&#8217; field.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.PackageRecords.long_desc">
<tt class="descname">long_desc</tt><a class="headerlink" href="#apt_pkg.PackageRecords.long_desc" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the long description. These are lines 2-END from the
&#8216;Description&#8217; field.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.PackageRecords.name">
<tt class="descname">name</tt><a class="headerlink" href="#apt_pkg.PackageRecords.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the name of the package. This is the &#8216;Package&#8217; field.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.PackageRecords.homepage">
<tt class="descname">homepage</tt><a class="headerlink" href="#apt_pkg.PackageRecords.homepage" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the Homepage. This is the &#8216;Homepage&#8217; field.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.PackageRecords.record">
<tt class="descname">record</tt><a class="headerlink" href="#apt_pkg.PackageRecords.record" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the whole record as a string. If you want to access fields of
the record not available as an attribute, you can use
<a class="reference internal" href="#apt_pkg.TagSection" title="apt_pkg.TagSection"><tt class="xref py py-class docutils literal"><span class="pre">apt_pkg.TagSection</span></tt></a> to parse the record and access the field
name.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">section</span> <span class="o">=</span> <span class="n">apt_pkg</span><span class="o">.</span><span class="n">TagSection</span><span class="p">(</span><span class="n">records</span><span class="o">.</span><span class="n">record</span><span class="p">)</span>
<span class="k">print</span> <span class="n">section</span><span class="p">[</span><span class="s">&#39;SHA256&#39;</span><span class="p">]</span> <span class="c"># Use records.sha256_hash instead</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="apt_pkg.SourceRecords">
<em class="property">class </em><tt class="descclassname">apt_pkg.</tt><tt class="descname">SourceRecords</tt><a class="headerlink" href="#apt_pkg.SourceRecords" title="Permalink to this definition">¶</a></dt>
<dd><p>Provide an easy way to look up the records of source packages and
provide easy attributes for some widely used fields of the record.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If the Lookup failed, because no package could be found, no error is
raised. Instead, the attributes listed below are simply not existing
anymore (same applies when no Lookup has been made, or when it has
been restarted).</p>
</div>
<dl class="method">
<dt id="apt_pkg.SourceRecords.lookup">
<tt class="descname">lookup</tt><big>(</big><em>pkgname: str</em><big>)</big> &rarr; bool<a class="headerlink" href="#apt_pkg.SourceRecords.lookup" title="Permalink to this definition">¶</a></dt>
<dd><p>Look up the source package with the given name. Each call moves
the position of the records parser forward. If there are no
more records, return None. If the lookup failed this way,
access to any of the attributes will result in an
<tt class="xref py py-exc docutils literal"><span class="pre">AttributeError</span></tt>.</p>
<p>Imagine a package P with two versions X, Y. The first <tt class="docutils literal"><span class="pre">lookup(P)</span></tt>
would set the record to version X and the second <tt class="docutils literal"><span class="pre">lookup(P)</span></tt> to
version Y. A third call would return <tt class="docutils literal"><span class="pre">None</span></tt> and access to any
of the below attributes will result in an <tt class="xref py py-exc docutils literal"><span class="pre">AttributeError</span></tt></p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.SourceRecords.restart">
<tt class="descname">restart</tt><big>(</big><big>)</big><a class="headerlink" href="#apt_pkg.SourceRecords.restart" title="Permalink to this definition">¶</a></dt>
<dd><p>Restart the lookup process. This moves the parser to the first
package and lookups can now be made just like on a new object.</p>
<p>Imagine a package P with two versions X, Y. The first <tt class="docutils literal"><span class="pre">Lookup(P)</span></tt>
would set the record to version X and the second <tt class="docutils literal"><span class="pre">Lookup(P)</span></tt> to
version Y. If you now call <tt class="docutils literal"><span class="pre">restart()</span></tt>, the internal position
will be cleared. Now you can call <tt class="docutils literal"><span class="pre">lookup(P)</span></tt> again to move to X.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.SourceRecords.binaries">
<tt class="descname">binaries</tt><a class="headerlink" href="#apt_pkg.SourceRecords.binaries" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of strings describing the package names of the binaries
created by the source package. This matches the &#8216;Binary&#8217; field in the
raw record.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.SourceRecords.build_depends">
<tt class="descname">build_depends</tt><a class="headerlink" href="#apt_pkg.SourceRecords.build_depends" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a dictionary representing the build-time dependencies of the
package. The format is the same as for <a class="reference internal" href="#apt_pkg.Version.depends_list_str" title="apt_pkg.Version.depends_list_str"><tt class="xref py py-attr docutils literal"><span class="pre">Version.depends_list_str</span></tt></a>
and possible keys being <tt class="docutils literal"><span class="pre">&quot;Build-Depends&quot;</span></tt>, <tt class="docutils literal"><span class="pre">&quot;Build-Depends-Indep&quot;</span></tt>,
<tt class="docutils literal"><span class="pre">&quot;Build-Conflicts&quot;</span></tt> or <tt class="docutils literal"><span class="pre">&quot;Build-Conflicts-Indep&quot;</span></tt>.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.SourceRecords.files">
<tt class="descname">files</tt><a class="headerlink" href="#apt_pkg.SourceRecords.files" title="Permalink to this definition">¶</a></dt>
<dd><p>The list of files. This returns a list of tuples with the contents
<tt class="docutils literal"><span class="pre">(str:</span> <span class="pre">md5,</span> <span class="pre">int:</span> <span class="pre">size,</span> <span class="pre">str:</span> <span class="pre">path,</span> <span class="pre">str:type)</span></tt>, where
&#8216;type&#8217; can be &#8216;diff&#8217; (includes .debian.tar.gz), &#8216;dsc&#8217;, &#8216;tar&#8217;.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.SourceRecords.index">
<tt class="descname">index</tt><a class="headerlink" href="#apt_pkg.SourceRecords.index" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of <a class="reference internal" href="#apt_pkg.IndexFile" title="apt_pkg.IndexFile"><tt class="xref py py-class docutils literal"><span class="pre">IndexFile</span></tt></a> objects associated with this
source package record.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.SourceRecords.maintainer">
<tt class="descname">maintainer</tt><a class="headerlink" href="#apt_pkg.SourceRecords.maintainer" title="Permalink to this definition">¶</a></dt>
<dd><p>A string describing the name of the maintainer.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.SourceRecords.package">
<tt class="descname">package</tt><a class="headerlink" href="#apt_pkg.SourceRecords.package" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the source package.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.SourceRecords.record">
<tt class="descname">record</tt><a class="headerlink" href="#apt_pkg.SourceRecords.record" title="Permalink to this definition">¶</a></dt>
<dd><p>The whole record, as a string. You can use <tt class="xref py py-func docutils literal"><span class="pre">apt_pkg.ParseSection()</span></tt>
if you need to parse it. You need to parse the record  to access
fields not available via the attributes such as &#8216;Standards-Version&#8217;</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.SourceRecords.section">
<tt class="descname">section</tt><a class="headerlink" href="#apt_pkg.SourceRecords.section" title="Permalink to this definition">¶</a></dt>
<dd><p>A string describing the section.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.SourceRecords.version">
<tt class="descname">version</tt><a class="headerlink" href="#apt_pkg.SourceRecords.version" title="Permalink to this definition">¶</a></dt>
<dd><p>A string describing the version of the source package.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="the-acquire-interface">
<h2>The Acquire interface<a class="headerlink" href="#the-acquire-interface" title="Permalink to this headline">¶</a></h2>
<p>The Acquire Interface is responsible for all sorts of downloading in apt. All
packages, index files, etc. downloading is done using the Acquire functionality.</p>
<p>The <a class="reference internal" href="#module-apt_pkg" title="apt_pkg"><tt class="xref py py-mod docutils literal"><span class="pre">apt_pkg</span></tt></a> module provides a subset of this functionality which allows
you to implement file downloading in your applications. Together with the
<a class="reference internal" href="#apt_pkg.PackageManager" title="apt_pkg.PackageManager"><tt class="xref py py-class docutils literal"><span class="pre">PackageManager</span></tt></a> class you can also fetch all the packages marked for
installation.</p>
<dl class="class">
<dt id="apt_pkg.Acquire">
<em class="property">class </em><tt class="descclassname">apt_pkg.</tt><tt class="descname">Acquire</tt><big>(</big><span class="optional">[</span><em>progress: apt.progress.base.AcquireProgress</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#apt_pkg.Acquire" title="Permalink to this definition">¶</a></dt>
<dd><p>Coordinate the retrieval of files via network or local file system
(using <tt class="docutils literal"><span class="pre">copy://path/to/file</span></tt> style URIs). Items can be added to
an Acquire object using various means such as creating instances
of <a class="reference internal" href="#apt_pkg.AcquireFile" title="apt_pkg.AcquireFile"><tt class="xref py py-class docutils literal"><span class="pre">AcquireFile</span></tt></a> or the methods <a class="reference internal" href="#apt_pkg.SourceList.get_indexes" title="apt_pkg.SourceList.get_indexes"><tt class="xref py py-meth docutils literal"><span class="pre">SourceList.get_indexes()</span></tt></a>
and <a class="reference internal" href="#apt_pkg.PackageManager.get_archives" title="apt_pkg.PackageManager.get_archives"><tt class="xref py py-meth docutils literal"><span class="pre">PackageManager.get_archives()</span></tt></a>.</p>
<p>Acquire objects maintain a list of items which will be fetched or have
been fetched already during the lifetime of this object. To add new items
to this list, you can create new <a class="reference internal" href="#apt_pkg.AcquireFile" title="apt_pkg.AcquireFile"><tt class="xref py py-class docutils literal"><span class="pre">AcquireFile</span></tt></a> objects which allow
you to add single files.</p>
<p>The constructor takes an optional parameter <em>progress</em> which takes an
<a class="reference internal" href="apt.progress.base.html#apt.progress.base.AcquireProgress" title="apt.progress.base.AcquireProgress"><tt class="xref py py-class docutils literal"><span class="pre">apt.progress.base.AcquireProgress</span></tt></a> object. This object may then
report progress information (see <a class="reference internal" href="apt.progress.text.html#module-apt.progress.text" title="apt.progress.text"><tt class="xref py py-mod docutils literal"><span class="pre">apt.progress.text</span></tt></a> for reporting
progress to a I/O stream and <a class="reference internal" href="apt.progress.gtk2.html#module-apt.progress.gtk2" title="apt.progress.gtk2"><tt class="xref py py-mod docutils literal"><span class="pre">apt.progress.gtk2</span></tt></a> for GTK+ progress
reporting).</p>
<p>Acquire items have two methods to start and stop the fetching:</p>
<dl class="method">
<dt id="apt_pkg.Acquire.run">
<tt class="descname">run</tt><big>(</big><big>)</big> &rarr; int<a class="headerlink" href="#apt_pkg.Acquire.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch all the items which have been added by <a class="reference internal" href="#apt_pkg.AcquireFile" title="apt_pkg.AcquireFile"><tt class="xref py py-class docutils literal"><span class="pre">AcquireFile</span></tt></a> and
return one of the constants <a class="reference internal" href="#apt_pkg.Acquire.RESULT_CANCELLED" title="apt_pkg.Acquire.RESULT_CANCELLED"><tt class="xref py py-attr docutils literal"><span class="pre">RESULT_CANCELLED</span></tt></a>,
<a class="reference internal" href="#apt_pkg.Acquire.RESULT_CONTINUE" title="apt_pkg.Acquire.RESULT_CONTINUE"><tt class="xref py py-attr docutils literal"><span class="pre">RESULT_CONTINUE</span></tt></a>, <a class="reference internal" href="#apt_pkg.Acquire.RESULT_FAILED" title="apt_pkg.Acquire.RESULT_FAILED"><tt class="xref py py-attr docutils literal"><span class="pre">RESULT_FAILED</span></tt></a> to describe the
result of the run.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.Acquire.shutdown">
<tt class="descname">shutdown</tt><big>(</big><big>)</big><a class="headerlink" href="#apt_pkg.Acquire.shutdown" title="Permalink to this definition">¶</a></dt>
<dd><p>Shut the fetcher down. This removes all items from the queue and
makes all <a class="reference internal" href="#apt_pkg.AcquireItem" title="apt_pkg.AcquireItem"><tt class="xref py py-class docutils literal"><span class="pre">AcquireItem</span></tt></a>, <a class="reference internal" href="#apt_pkg.AcquireWorker" title="apt_pkg.AcquireWorker"><tt class="xref py py-class docutils literal"><span class="pre">AcquireWorker</span></tt></a>,
<a class="reference internal" href="#apt_pkg.AcquireItemDesc" title="apt_pkg.AcquireItemDesc"><tt class="xref py py-class docutils literal"><span class="pre">AcquireItemDesc</span></tt></a> objects useless. Accessing an object of one
of those types can cause a segfault then.</p>
<p>Removing an item does not mean that the already fetched data will
be removed from the destination. Instead, APT might use the partial
result and continue from thereon.</p>
</dd></dl>

<p>Furthermore, they provide three attributes which provide information
on how much data is already available and how much data still needs
to be fetched:</p>
<dl class="attribute">
<dt id="apt_pkg.Acquire.fetch_needed">
<tt class="descname">fetch_needed</tt><a class="headerlink" href="#apt_pkg.Acquire.fetch_needed" title="Permalink to this definition">¶</a></dt>
<dd><p>The amount of data that has to be fetched in order to fetch all
queued items.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.Acquire.partial_present">
<tt class="descname">partial_present</tt><a class="headerlink" href="#apt_pkg.Acquire.partial_present" title="Permalink to this definition">¶</a></dt>
<dd><p>The amount of data which is already available.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.Acquire.total_needed">
<tt class="descname">total_needed</tt><a class="headerlink" href="#apt_pkg.Acquire.total_needed" title="Permalink to this definition">¶</a></dt>
<dd><p>The total amount of bytes needed (including those of files which are
already present).</p>
</dd></dl>

<p>They also provide two attributes representing the items being processed
and the workers fetching them:</p>
<dl class="attribute">
<dt id="apt_pkg.Acquire.items">
<tt class="descname">items</tt><a class="headerlink" href="#apt_pkg.Acquire.items" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of <a class="reference internal" href="#apt_pkg.AcquireItem" title="apt_pkg.AcquireItem"><tt class="xref py py-class docutils literal"><span class="pre">AcquireItem</span></tt></a> objects which are attached to the
to this Acquire object. This includes all items ever attached to
this object (except if they were removed using, for example,
<a class="reference internal" href="#apt_pkg.Acquire.shutdown" title="apt_pkg.Acquire.shutdown"><tt class="xref py py-meth docutils literal"><span class="pre">shutdown()</span></tt></a> or by deleting an <a class="reference internal" href="#apt_pkg.AcquireFile" title="apt_pkg.AcquireFile"><tt class="xref py py-class docutils literal"><span class="pre">AcquireFile</span></tt></a> object.)</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.Acquire.workers">
<tt class="descname">workers</tt><a class="headerlink" href="#apt_pkg.Acquire.workers" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of <a class="reference internal" href="#apt_pkg.AcquireWorker" title="apt_pkg.AcquireWorker"><tt class="xref py py-class docutils literal"><span class="pre">AcquireWorker</span></tt></a> objects which are currently active
on this instance.</p>
</dd></dl>

<p>The Acquire class comes with three constants which represents the results
of the <a class="reference internal" href="#apt_pkg.Acquire.run" title="apt_pkg.Acquire.run"><tt class="xref py py-meth docutils literal"><span class="pre">run()</span></tt></a> method:</p>
<dl class="attribute">
<dt id="apt_pkg.Acquire.RESULT_CANCELLED">
<tt class="descname">RESULT_CANCELLED</tt><a class="headerlink" href="#apt_pkg.Acquire.RESULT_CANCELLED" title="Permalink to this definition">¶</a></dt>
<dd><p>The fetching has been aborted, e.g. due to a progress class returning
<tt class="docutils literal"><span class="pre">False</span></tt> in its <tt class="xref py py-meth docutils literal"><span class="pre">pulse()</span></tt> method.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.Acquire.RESULT_CONTINUE">
<tt class="descname">RESULT_CONTINUE</tt><a class="headerlink" href="#apt_pkg.Acquire.RESULT_CONTINUE" title="Permalink to this definition">¶</a></dt>
<dd><p>All items have been fetched successfully and the process has not been
canceled.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.Acquire.RESULT_FAILED">
<tt class="descname">RESULT_FAILED</tt><a class="headerlink" href="#apt_pkg.Acquire.RESULT_FAILED" title="Permalink to this definition">¶</a></dt>
<dd><p>An item failed to fetch due to some reasons.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="apt_pkg.AcquireItem">
<em class="property">class </em><tt class="descclassname">apt_pkg.</tt><tt class="descname">AcquireItem</tt><a class="headerlink" href="#apt_pkg.AcquireItem" title="Permalink to this definition">¶</a></dt>
<dd><p>An AcquireItem object represents a single item of an <a class="reference internal" href="#apt_pkg.Acquire" title="apt_pkg.Acquire"><tt class="xref py py-class docutils literal"><span class="pre">Acquire</span></tt></a>
object. It is an abstract class to represent various types of items
which are implemented as subclasses. The only exported subclass is
<a class="reference internal" href="#apt_pkg.AcquireFile" title="apt_pkg.AcquireFile"><tt class="xref py py-class docutils literal"><span class="pre">AcquireFile</span></tt></a> which can be used to fetch files.</p>
<dl class="attribute">
<dt id="apt_pkg.AcquireItem.complete">
<tt class="descname">complete</tt><a class="headerlink" href="#apt_pkg.AcquireItem.complete" title="Permalink to this definition">¶</a></dt>
<dd><p>A boolean value which is True only if the item has been
fetched successfully.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.AcquireItem.desc_uri">
<tt class="descname">desc_uri</tt><a class="headerlink" href="#apt_pkg.AcquireItem.desc_uri" title="Permalink to this definition">¶</a></dt>
<dd><p>An URI describing where the item is located at.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.AcquireItem.destfile">
<tt class="descname">destfile</tt><a class="headerlink" href="#apt_pkg.AcquireItem.destfile" title="Permalink to this definition">¶</a></dt>
<dd><p>The path to the local location where the fetched data will be
stored at.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.AcquireItem.error_text">
<tt class="descname">error_text</tt><a class="headerlink" href="#apt_pkg.AcquireItem.error_text" title="Permalink to this definition">¶</a></dt>
<dd><p>The error message. For example, when a file does not exist on a HTTP
server, this will contain a 404 error message.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.AcquireItem.filesize">
<tt class="descname">filesize</tt><a class="headerlink" href="#apt_pkg.AcquireItem.filesize" title="Permalink to this definition">¶</a></dt>
<dd><p>The size of the file, in bytes. If the size of the to be fetched file
is unknown, this attribute is set to <tt class="docutils literal"><span class="pre">0</span></tt>.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.AcquireItem.id">
<tt class="descname">id</tt><a class="headerlink" href="#apt_pkg.AcquireItem.id" title="Permalink to this definition">¶</a></dt>
<dd><p>The ID of the item. This attribute is normally set to <tt class="docutils literal"><span class="pre">0</span></tt>, users may
set a custom value here, for instance in an overridden
<a class="reference internal" href="apt.progress.base.html#apt.progress.base.AcquireProgress.fetch" title="apt.progress.base.AcquireProgress.fetch"><tt class="xref py py-meth docutils literal"><span class="pre">apt.progress.base.AcquireProgress.fetch()</span></tt></a> method (the progress
class could keep a counter, increase it by one for every <tt class="xref py py-meth docutils literal"><span class="pre">fetch()</span></tt>
call and assign the current value to this attribute).</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.AcquireItem.is_trusted">
<tt class="descname">is_trusted</tt><a class="headerlink" href="#apt_pkg.AcquireItem.is_trusted" title="Permalink to this definition">¶</a></dt>
<dd><p>A boolean value determining whether the file is trusted. Only <tt class="docutils literal"><span class="pre">True</span></tt>
if the item represents a package coming from a repository which is
signed by one of the keys in APT&#8217;s keyring.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.AcquireItem.local">
<tt class="descname">local</tt><a class="headerlink" href="#apt_pkg.AcquireItem.local" title="Permalink to this definition">¶</a></dt>
<dd><p>A boolean value determining whether this file is locally available
(<tt class="docutils literal"><span class="pre">True</span></tt>) or whether it has to be fetched from a remote source
(<tt class="docutils literal"><span class="pre">False</span></tt>).</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.AcquireItem.mode">
<tt class="descname">mode</tt><a class="headerlink" href="#apt_pkg.AcquireItem.mode" title="Permalink to this definition">¶</a></dt>
<dd><p>A localized string indicating the current mode e.g. <tt class="docutils literal"><span class="pre">&quot;Fetching&quot;</span></tt>,
it may be used as part of printing progress information.</p>
</dd></dl>

<p><strong>Status</strong>:</p>
<p>The following attribute represents the status of the item. This class
provides several constants for comparing against this value which are
listed here as well.</p>
<dl class="attribute">
<dt id="apt_pkg.AcquireItem.status">
<tt class="descname">status</tt><a class="headerlink" href="#apt_pkg.AcquireItem.status" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer, representing the status of the item. This attribute can be
compared against the following constants to gain useful information
on the item&#8217;s status.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.AcquireItem.STAT_AUTH_ERROR">
<tt class="descname">STAT_AUTH_ERROR</tt><a class="headerlink" href="#apt_pkg.AcquireItem.STAT_AUTH_ERROR" title="Permalink to this definition">¶</a></dt>
<dd><p>An authentication error occurred while trying to fetch the item.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.AcquireItem.STAT_DONE">
<tt class="descname">STAT_DONE</tt><a class="headerlink" href="#apt_pkg.AcquireItem.STAT_DONE" title="Permalink to this definition">¶</a></dt>
<dd><p>The item is completely fetched and there have been no problems
while fetching the item.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.AcquireItem.STAT_ERROR">
<tt class="descname">STAT_ERROR</tt><a class="headerlink" href="#apt_pkg.AcquireItem.STAT_ERROR" title="Permalink to this definition">¶</a></dt>
<dd><p>An error occurred while trying to fetch the item. This error is
normally not related to authentication problems, as thus are
dealt with using <a class="reference internal" href="#apt_pkg.AcquireItem.STAT_AUTH_ERROR" title="apt_pkg.AcquireItem.STAT_AUTH_ERROR"><tt class="xref py py-attr docutils literal"><span class="pre">STAT_AUTH_ERROR</span></tt></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.AcquireItem.STAT_FETCHING">
<tt class="descname">STAT_FETCHING</tt><a class="headerlink" href="#apt_pkg.AcquireItem.STAT_FETCHING" title="Permalink to this definition">¶</a></dt>
<dd><p>The item is being fetched currently.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.AcquireItem.STAT_IDLE">
<tt class="descname">STAT_IDLE</tt><a class="headerlink" href="#apt_pkg.AcquireItem.STAT_IDLE" title="Permalink to this definition">¶</a></dt>
<dd><p>The item is yet to be fetched.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.AcquireItem.STAT_TRANSIENT_NETWORK_ERROR">
<tt class="descname">STAT_TRANSIENT_NETWORK_ERROR</tt><a class="headerlink" href="#apt_pkg.AcquireItem.STAT_TRANSIENT_NETWORK_ERROR" title="Permalink to this definition">¶</a></dt>
<dd><p>There was a network error.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="apt_pkg.AcquireFile">
<em class="property">class </em><tt class="descclassname">apt_pkg.</tt><tt class="descname">AcquireFile</tt><big>(</big><em>owner</em>, <em>uri</em><span class="optional">[</span>, <em>md5</em>, <em>size</em>, <em>descr</em>, <em>short_descr</em>, <em>destdir</em>, <em>destfile</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#apt_pkg.AcquireFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new <a class="reference internal" href="#apt_pkg.AcquireFile" title="apt_pkg.AcquireFile"><tt class="xref py py-class docutils literal"><span class="pre">AcquireFile()</span></tt></a> object and register it with <em>acquire</em>,
so it will be fetched. You must always keep around a reference to the
object, otherwise it will be removed from the Acquire queue again.</p>
<p>The parameter <em>owner</em> refers to an <a class="reference internal" href="#apt_pkg.Acquire" title="apt_pkg.Acquire"><tt class="xref py py-class docutils literal"><span class="pre">Acquire()</span></tt></a> object as returned
by <tt class="xref py py-func docutils literal"><span class="pre">GetAcquire()</span></tt>. The file will be added to the Acquire queue
automatically.</p>
<p>The parameter <em>uri</em> refers to the location of the file, any protocol
of apt is supported.</p>
<p>The parameter <em>md5</em> refers to the md5sum of the file. This can be used
for checking the file.</p>
<p>The parameter <em>size</em> can be used to specify the size of the package,
which can then be used to calculate the progress and validate the download.</p>
<p>The parameter <em>descr</em> is a description of the download. It may be
used to describe the item in the progress class. <em>short_descr</em> is the
short form of it.</p>
<p>The parameters <em>descr</em> and <em>short_descr</em> can be used to specify
descriptions for the item. The string passed to <em>descr</em> should
describe the file and its origin (e.g. &#8220;<a class="reference external" href="http://localhost">http://localhost</a> sid/main
python-apt 0.7.94.2&#8221;) and the string passed to <em>short_descr</em> should
be one word such as the name of a package.</p>
<p>Normally, the file will be stored in the current directory using the
file name given in the URI. This directory can be changed by passing
the name of a directory to the <em>destdir</em> parameter. It is also possible
to set a path to a file using the <em>destfile</em> parameter, but both can
not be specified together.</p>
<p>In terms of attributes, this class is a subclass of <a class="reference internal" href="#apt_pkg.AcquireItem" title="apt_pkg.AcquireItem"><tt class="xref py py-class docutils literal"><span class="pre">AcquireItem</span></tt></a>
and thus inherits all its attributes.</p>
</dd></dl>

<dl class="class">
<dt id="apt_pkg.AcquireWorker">
<em class="property">class </em><tt class="descclassname">apt_pkg.</tt><tt class="descname">AcquireWorker</tt><a class="headerlink" href="#apt_pkg.AcquireWorker" title="Permalink to this definition">¶</a></dt>
<dd><p>An <a class="reference internal" href="#apt_pkg.AcquireWorker" title="apt_pkg.AcquireWorker"><tt class="xref py py-class docutils literal"><span class="pre">AcquireWorker</span></tt></a> object represents a sub-process responsible for
fetching files from remote locations. There is no possibility to create
instances of this class from within Python, but a list of objects of
currently active workers is provided by <a class="reference internal" href="#apt_pkg.Acquire.workers" title="apt_pkg.Acquire.workers"><tt class="xref py py-attr docutils literal"><span class="pre">Acquire.workers</span></tt></a>.</p>
<p>Objects of this type provide several attributes which give information
about the worker&#8217;s current activity.</p>
<dl class="attribute">
<dt id="apt_pkg.AcquireWorker.current_item">
<tt class="descname">current_item</tt><a class="headerlink" href="#apt_pkg.AcquireWorker.current_item" title="Permalink to this definition">¶</a></dt>
<dd><p>The item which is currently being fetched. This returns an
<a class="reference internal" href="#apt_pkg.AcquireItemDesc" title="apt_pkg.AcquireItemDesc"><tt class="xref py py-class docutils literal"><span class="pre">AcquireItemDesc</span></tt></a> object.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.AcquireWorker.current_size">
<tt class="descname">current_size</tt><a class="headerlink" href="#apt_pkg.AcquireWorker.current_size" title="Permalink to this definition">¶</a></dt>
<dd><p>How many bytes of the file have been downloaded. Zero if the current
progress of the file cannot be determined.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.AcquireWorker.resumepoint">
<tt class="descname">resumepoint</tt><a class="headerlink" href="#apt_pkg.AcquireWorker.resumepoint" title="Permalink to this definition">¶</a></dt>
<dd><p>The amount of data which was already available when the download was
started.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.AcquireWorker.status">
<tt class="descname">status</tt><a class="headerlink" href="#apt_pkg.AcquireWorker.status" title="Permalink to this definition">¶</a></dt>
<dd><p>The most recent (localized) status string received from the
sub-process.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.AcquireWorker.total_size">
<tt class="descname">total_size</tt><a class="headerlink" href="#apt_pkg.AcquireWorker.total_size" title="Permalink to this definition">¶</a></dt>
<dd><p>The total number of bytes to be downloaded for the item. Zero if the
total size is unknown.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="apt_pkg.AcquireItemDesc">
<em class="property">class </em><tt class="descclassname">apt_pkg.</tt><tt class="descname">AcquireItemDesc</tt><a class="headerlink" href="#apt_pkg.AcquireItemDesc" title="Permalink to this definition">¶</a></dt>
<dd><p>An <a class="reference internal" href="#apt_pkg.AcquireItemDesc" title="apt_pkg.AcquireItemDesc"><tt class="xref py py-class docutils literal"><span class="pre">AcquireItemDesc</span></tt></a> object stores information about the item which
can be used to describe the item. Objects of this class are used in the
progress classes, see the <a class="reference internal" href="apt.progress.base.html#apt.progress.base.AcquireProgress" title="apt.progress.base.AcquireProgress"><tt class="xref py py-class docutils literal"><span class="pre">apt.progress.base.AcquireProgress</span></tt></a>
documentation for information how.</p>
<dl class="attribute">
<dt id="apt_pkg.AcquireItemDesc.description">
<tt class="descname">description</tt><a class="headerlink" href="#apt_pkg.AcquireItemDesc.description" title="Permalink to this definition">¶</a></dt>
<dd><p>The long description given to the item.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.AcquireItemDesc.owner">
<tt class="descname">owner</tt><a class="headerlink" href="#apt_pkg.AcquireItemDesc.owner" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="#apt_pkg.AcquireItem" title="apt_pkg.AcquireItem"><tt class="xref py py-class docutils literal"><span class="pre">AcquireItem</span></tt></a> object owning this object.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.AcquireItemDesc.shortdesc">
<tt class="descname">shortdesc</tt><a class="headerlink" href="#apt_pkg.AcquireItemDesc.shortdesc" title="Permalink to this definition">¶</a></dt>
<dd><p>A short description which has been given to this item.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.AcquireItemDesc.uri">
<tt class="descname">uri</tt><a class="headerlink" href="#apt_pkg.AcquireItemDesc.uri" title="Permalink to this definition">¶</a></dt>
<dd><p>The URI from which this item would be downloaded.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="hashes">
<h2>Hashes<a class="headerlink" href="#hashes" title="Permalink to this headline">¶</a></h2>
<p>The apt_pkg module also provides several hash functions. If you develop
applications with python-apt it is often easier to use these functions instead
of the ones provides in Python&#8217;s <a class="reference external" href="http://docs.python.org/library/hashlib.html#hashlib" title="(in Python v2.7)"><tt class="xref py py-mod docutils literal"><span class="pre">hashlib</span></tt></a> module.</p>
<p>The module provides the two classes <a class="reference internal" href="#apt_pkg.Hashes" title="apt_pkg.Hashes"><tt class="xref py py-class docutils literal"><span class="pre">Hashes</span></tt></a> and <a class="reference internal" href="#apt_pkg.HashString" title="apt_pkg.HashString"><tt class="xref py py-class docutils literal"><span class="pre">HashString</span></tt></a> for
generic hash support:</p>
<dl class="class">
<dt id="apt_pkg.Hashes">
<em class="property">class </em><tt class="descclassname">apt_pkg.</tt><tt class="descname">Hashes</tt><big>(</big><em>object</em><big>)</big><a class="headerlink" href="#apt_pkg.Hashes" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate all supported hashes of the object. <em>object</em> may either be a
string, in which cases the hashes of the string are calculated; or a
<tt class="xref py py-class docutils literal"><span class="pre">file()</span></tt> object or file descriptor, in which case the hashes of
its contents is calculated. The calculated hashes are then available via
attributes:</p>
<dl class="attribute">
<dt id="apt_pkg.Hashes.md5">
<tt class="descname">md5</tt><a class="headerlink" href="#apt_pkg.Hashes.md5" title="Permalink to this definition">¶</a></dt>
<dd><p>The MD5 hash of the data, as string.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.Hashes.sha1">
<tt class="descname">sha1</tt><a class="headerlink" href="#apt_pkg.Hashes.sha1" title="Permalink to this definition">¶</a></dt>
<dd><p>The SHA1 hash of the data, as string.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.Hashes.sha256">
<tt class="descname">sha256</tt><a class="headerlink" href="#apt_pkg.Hashes.sha256" title="Permalink to this definition">¶</a></dt>
<dd><p>The SHA256 hash of the data, as string.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="apt_pkg.HashString">
<em class="property">class </em><tt class="descclassname">apt_pkg.</tt><tt class="descname">HashString</tt><big>(</big><em>type: str</em><span class="optional">[</span>, <em>hash: str</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#apt_pkg.HashString" title="Permalink to this definition">¶</a></dt>
<dd><p>HashString objects store the type of a hash and the corresponding hash.
They are used by e.g <a class="reference internal" href="#apt_pkg.IndexRecords.lookup" title="apt_pkg.IndexRecords.lookup"><tt class="xref py py-meth docutils literal"><span class="pre">IndexRecords.lookup()</span></tt></a>. The first parameter,
<em>type</em> refers to one of &#8220;MD5Sum&#8221;, &#8220;SHA1&#8221; and &#8220;SHA256&#8221;. The second parameter
<em>hash</em> is the corresponding hash.</p>
<p>You can also use a combined form by passing a string with type and hash
separated by a colon as the only argument. For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">HashString</span><span class="p">(</span><span class="s">&quot;MD5Sum:d41d8cd98f00b204e9800998ecf8427e&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="describe">
<dt>
<tt class="descname">str(hashstring)</tt></dt>
<dd><p>Convert the HashString to a string by joining the hash type and the
hash using &#8216;:&#8217;, e.g. <tt class="docutils literal"><span class="pre">&quot;MD5Sum:d41d8cd98f00b204e9800998ecf8427e&quot;</span></tt>.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.HashString.hashtype">
<tt class="descname">hashtype</tt><a class="headerlink" href="#apt_pkg.HashString.hashtype" title="Permalink to this definition">¶</a></dt>
<dd><p>The type of the hash, as a string. This may be &#8220;MD5Sum&#8221;, &#8220;SHA1&#8221;
or &#8220;SHA256&#8221;.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.HashString.verify_file">
<tt class="descname">verify_file</tt><big>(</big><em>filename: str</em><big>)</big> &rarr; bool<a class="headerlink" href="#apt_pkg.HashString.verify_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify that the file given by the parameter <em>filename</em> matches the
hash stored in this object.</p>
</dd></dl>

</dd></dl>

<p>The <a class="reference internal" href="#module-apt_pkg" title="apt_pkg"><tt class="xref py py-mod docutils literal"><span class="pre">apt_pkg</span></tt></a> module also provides the functions <a class="reference internal" href="#apt_pkg.md5sum" title="apt_pkg.md5sum"><tt class="xref py py-func docutils literal"><span class="pre">md5sum()</span></tt></a>,
<a class="reference internal" href="#apt_pkg.sha1sum" title="apt_pkg.sha1sum"><tt class="xref py py-func docutils literal"><span class="pre">sha1sum()</span></tt></a> and <a class="reference internal" href="#apt_pkg.sha256sum" title="apt_pkg.sha256sum"><tt class="xref py py-func docutils literal"><span class="pre">sha256sum()</span></tt></a> for creating a single hash from a
<tt class="xref py py-class docutils literal"><span class="pre">bytes</span></tt> or <tt class="xref py py-class docutils literal"><span class="pre">file</span></tt> object:</p>
<dl class="function">
<dt id="apt_pkg.md5sum">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">md5sum</tt><big>(</big><em>object</em><big>)</big><a class="headerlink" href="#apt_pkg.md5sum" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the md5sum of the object. <em>object</em> may either be a string, in
which case the md5sum of the string is returned, or a <tt class="xref py py-class docutils literal"><span class="pre">file()</span></tt>
object (or a file descriptor), in which case the md5sum of its contents is
returned.</p>
<p class="versionchanged">
<span class="versionmodified">Changed in version 0.7.100: </span>Added support for using file descriptors.</p>
</dd></dl>

<dl class="function">
<dt id="apt_pkg.sha1sum">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">sha1sum</tt><big>(</big><em>object</em><big>)</big><a class="headerlink" href="#apt_pkg.sha1sum" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the sha1sum of the object. <em>object</em> may either be a string, in
which case the sha1sum of the string is returned, or a <tt class="xref py py-class docutils literal"><span class="pre">file()</span></tt>
object (or a file descriptor), in which case the sha1sum of its contents
is returned.</p>
<p class="versionchanged">
<span class="versionmodified">Changed in version 0.7.100: </span>Added support for using file descriptors.</p>
</dd></dl>

<dl class="function">
<dt id="apt_pkg.sha256sum">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">sha256sum</tt><big>(</big><em>object</em><big>)</big><a class="headerlink" href="#apt_pkg.sha256sum" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the sha256sum of the object. <em>object</em> may either be a string, in
which case the sha256sum of the string is returned, or a <tt class="xref py py-class docutils literal"><span class="pre">file()</span></tt>
object  (or a file descriptor), in which case the sha256sum of its contents
is returned.</p>
<p class="versionchanged">
<span class="versionmodified">Changed in version 0.7.100: </span>Added support for using file descriptors.</p>
</dd></dl>

</div>
<div class="section" id="debian-control-files">
<h2>Debian control files<a class="headerlink" href="#debian-control-files" title="Permalink to this headline">¶</a></h2>
<p>Debian control files are files containing multiple stanzas of <span class="target" id="index-0"></span><a class="rfc reference external" href="http://tools.ietf.org/html/rfc822.html"><strong>RFC 822</strong></a>-style
header sections. They are widely used in the Debian community, and can represent
many kinds of information. One example for such a file is the
<tt class="file docutils literal"><span class="pre">/var/lib/dpkg/status</span></tt> file which contains a list of the currently
installed packages.</p>
<p>The <a class="reference internal" href="#module-apt_pkg" title="apt_pkg"><tt class="xref py py-mod docutils literal"><span class="pre">apt_pkg</span></tt></a> module provides two classes to read those files and parts
thereof and provides a function <tt class="xref py py-func docutils literal"><span class="pre">RewriteSection()</span></tt> which takes a
<a class="reference internal" href="#apt_pkg.TagSection" title="apt_pkg.TagSection"><tt class="xref py py-class docutils literal"><span class="pre">TagSection()</span></tt></a> object and sorting information and outputs a sorted
section as a string.</p>
<dl class="class">
<dt id="apt_pkg.TagFile">
<em class="property">class </em><tt class="descclassname">apt_pkg.</tt><tt class="descname">TagFile</tt><big>(</big><em>file</em>, <em>bytes: bool = False</em><big>)</big><a class="headerlink" href="#apt_pkg.TagFile" title="Permalink to this definition">¶</a></dt>
<dd><p>An object which represents a typical debian control file. Can be used for
Packages, Sources, control, Release, etc. Such an object provides two
kinds of API which should not be used together:</p>
<p>The first API implements the iterator protocol and should be used whenever
possible because it has less side effects than the other one. It may be
used e.g. with a for loop:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">tagf</span> <span class="o">=</span> <span class="n">apt_pkg</span><span class="o">.</span><span class="n">TagFile</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="s">&#39;/var/lib/dpkg/status&#39;</span><span class="p">))</span>
<span class="k">for</span> <span class="n">section</span> <span class="ow">in</span> <span class="n">tagfile</span><span class="p">:</span>
    <span class="k">print</span> <span class="n">section</span><span class="p">[</span><span class="s">&#39;Package&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p class="versionchanged">
<span class="versionmodified">Changed in version 0.7.100: </span>Added support for using gzip files, via <a class="reference external" href="http://docs.python.org/library/gzip.html#gzip.GzipFile" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">gzip.GzipFile</span></tt></a> or any
file containing a compressed gzip stream.</p>
<p class="versionadded">
<span class="versionmodified">New in version 0.8.5.</span></p>
<dl class="method">
<dt id="apt_pkg.TagFile.next">
<tt class="descname">next</tt><big>(</big><big>)</big><a class="headerlink" href="#apt_pkg.TagFile.next" title="Permalink to this definition">¶</a></dt>
<dd><p>A TagFile is its own iterator. This method is part of the iterator
protocol and returns a <a class="reference internal" href="#apt_pkg.TagSection" title="apt_pkg.TagSection"><tt class="xref py py-class docutils literal"><span class="pre">TagSection</span></tt></a> object for the next
section in the file. If there is no further section, this method
raises the <tt class="xref py py-exc docutils literal"><span class="pre">StopIteration</span></tt> exception.</p>
<p>From Python 3 on, this method is not available anymore, and the
global function <tt class="docutils literal"><span class="pre">next()</span></tt> replaces it.</p>
</dd></dl>

<p>The second API uses a shared <a class="reference internal" href="#apt_pkg.TagSection" title="apt_pkg.TagSection"><tt class="xref py py-class docutils literal"><span class="pre">TagSection</span></tt></a> object which is exposed
through the <a class="reference internal" href="#apt_pkg.section" title="apt_pkg.section"><tt class="xref py py-attr docutils literal"><span class="pre">section</span></tt></a> attribute. This object is modified by calls
to <a class="reference internal" href="#apt_pkg.TagFile.step" title="apt_pkg.TagFile.step"><tt class="xref py py-meth docutils literal"><span class="pre">step()</span></tt></a> and <a class="reference internal" href="#apt_pkg.TagFile.jump" title="apt_pkg.TagFile.jump"><tt class="xref py py-meth docutils literal"><span class="pre">jump()</span></tt></a>. This API provides more control and may
use less memory, but is not recommended because it works by modifying
one object. It can be used like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">tagf</span> <span class="o">=</span> <span class="n">apt_pkg</span><span class="o">.</span><span class="n">TagFile</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="s">&#39;/var/lib/dpkg/status&#39;</span><span class="p">))</span>
<span class="n">tagf</span><span class="o">.</span><span class="n">step</span><span class="p">()</span>
<span class="k">print</span> <span class="n">tagf</span><span class="o">.</span><span class="n">section</span><span class="p">[</span><span class="s">&#39;Package&#39;</span><span class="p">]</span>
</pre></div>
</div>
<dl class="method">
<dt id="apt_pkg.TagFile.step">
<tt class="descname">step</tt><big>(</big><big>)</big> &rarr; bool<a class="headerlink" href="#apt_pkg.TagFile.step" title="Permalink to this definition">¶</a></dt>
<dd><p>Step forward to the next section. This simply returns <tt class="docutils literal"><span class="pre">True</span></tt> if OK,
and <tt class="docutils literal"><span class="pre">False</span></tt> if there is no section.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.TagFile.offset">
<tt class="descname">offset</tt><big>(</big><big>)</big> &rarr; int<a class="headerlink" href="#apt_pkg.TagFile.offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the current offset (in bytes) from the beginning of the file.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.TagFile.jump">
<tt class="descname">jump</tt><big>(</big><em>offset</em><big>)</big> &rarr; bool<a class="headerlink" href="#apt_pkg.TagFile.jump" title="Permalink to this definition">¶</a></dt>
<dd><p>Jump back/forward to <em>offset</em>. Use <tt class="docutils literal"><span class="pre">jump(0)</span></tt> to jump to the
beginning of the file again. Returns <tt class="docutils literal"><span class="pre">True</span></tt> if a section could
be parsed or <tt class="docutils literal"><span class="pre">False</span></tt> if not.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.TagFile.section">
<tt class="descname">section</tt><a class="headerlink" href="#apt_pkg.TagFile.section" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the current <a class="reference internal" href="#apt_pkg.TagSection" title="apt_pkg.TagSection"><tt class="xref py py-class docutils literal"><span class="pre">TagSection()</span></tt></a> instance.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="apt_pkg.TagSection">
<em class="property">class </em><tt class="descclassname">apt_pkg.</tt><tt class="descname">TagSection</tt><big>(</big><em>text</em><big>)</big><a class="headerlink" href="#apt_pkg.TagSection" title="Permalink to this definition">¶</a></dt>
<dd><p>Represent a single section of a debian control file.</p>
<dl class="describe">
<dt>
<tt class="descname">section[key]</tt></dt>
<dd><p>Return the value of the field at <em>key</em>. If <em>key</em> is not available,
raise <tt class="xref py py-exc docutils literal"><span class="pre">KeyError</span></tt>.</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">key in section</tt></dt>
<dd><blockquote>
<div>Return <tt class="docutils literal"><span class="pre">True</span></tt> if <em>section</em> has a key <em>key</em>, else <tt class="docutils literal"><span class="pre">False</span></tt>.</div></blockquote>
<p class="versionadded">
<span class="versionmodified">New in version 0.7.100.</span></p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.TagSection.bytes">
<tt class="descname">bytes</tt><big>(</big><big>)</big> &rarr; int<a class="headerlink" href="#apt_pkg.TagSection.bytes" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of bytes in the section.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.TagSection.find">
<tt class="descname">find</tt><big>(</big><em>key: str</em>, <em>default: str = ''</em><big>)</big> &rarr; str<a class="headerlink" href="#apt_pkg.TagSection.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the value of the field at the key <em>key</em> if available,
else return <em>default</em>.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.TagSection.find_flag">
<tt class="descname">find_flag</tt><big>(</big><em>key: str</em><big>)</big> &rarr; bool<a class="headerlink" href="#apt_pkg.TagSection.find_flag" title="Permalink to this definition">¶</a></dt>
<dd><p>Find a yes/no value for the key <em>key</em>. An example for such a
field is &#8216;Essential&#8217;.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.TagSection.find_raw">
<tt class="descname">find_raw</tt><big>(</big><em>key: str</em>, <em>default: str = ''</em><big>)</big> &rarr; str<a class="headerlink" href="#apt_pkg.TagSection.find_raw" title="Permalink to this definition">¶</a></dt>
<dd><p>Similar to <a class="reference internal" href="#apt_pkg.TagSection.find" title="apt_pkg.TagSection.find"><tt class="xref py py-meth docutils literal"><span class="pre">find()</span></tt></a>, but instead of returning just the value,
it returns the complete field consisting of &#8216;key: value&#8217;.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.TagSection.get">
<tt class="descname">get</tt><big>(</big><em>key: str</em>, <em>default: str = ''</em><big>)</big><a class="headerlink" href="#apt_pkg.TagSection.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the value of the field at the key <em>key</em> if available, else
return <em>default</em>.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.TagSection.keys">
<tt class="descname">keys</tt><big>(</big><big>)</big><a class="headerlink" href="#apt_pkg.TagSection.keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of keys in the section.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="apt_pkg.rewrite_section">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">rewrite_section</tt><big>(</big><em>section: TagSection</em>, <em>order: list</em>, <em>rewrite_list: list</em><big>)</big> &rarr; str<a class="headerlink" href="#apt_pkg.rewrite_section" title="Permalink to this definition">¶</a></dt>
<dd><p>Rewrite the section given by <em>section</em> using <em>rewrite_list</em>, and order the
fields according to <em>order</em>.</p>
<p>The parameter <em>order</em> is a <tt class="xref py py-class docutils literal"><span class="pre">list</span></tt> object containing the names of the
fields in the order they should appear in the rewritten section.
<a class="reference internal" href="#apt_pkg.REWRITE_PACKAGE_ORDER" title="apt_pkg.REWRITE_PACKAGE_ORDER"><tt class="xref py py-data docutils literal"><span class="pre">apt_pkg.REWRITE_PACKAGE_ORDER</span></tt></a> and
<a class="reference internal" href="#apt_pkg.REWRITE_SOURCE_ORDER" title="apt_pkg.REWRITE_SOURCE_ORDER"><tt class="xref py py-data docutils literal"><span class="pre">apt_pkg.REWRITE_SOURCE_ORDER</span></tt></a> are two predefined lists for rewriting
package and source sections, respectively.</p>
<p>The parameter <em>rewrite_list</em> is a list of tuples of the form
<tt class="docutils literal"><span class="pre">(tag,</span> <span class="pre">newvalue[,</span> <span class="pre">renamed_to])</span></tt>, where <em>tag</em> describes the field which
should be changed, <em>newvalue</em> the value which should be inserted or
<tt class="docutils literal"><span class="pre">None</span></tt> to delete the field, and the optional <em>renamed_to</em> can be used
to rename the field.</p>
</dd></dl>

<dl class="data">
<dt id="apt_pkg.REWRITE_PACKAGE_ORDER">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">REWRITE_PACKAGE_ORDER</tt><a class="headerlink" href="#apt_pkg.REWRITE_PACKAGE_ORDER" title="Permalink to this definition">¶</a></dt>
<dd><p>The order in which the information for binary packages should be rewritten,
i.e. the order in which the fields should appear.</p>
</dd></dl>

<dl class="data">
<dt id="apt_pkg.REWRITE_SOURCE_ORDER">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">REWRITE_SOURCE_ORDER</tt><a class="headerlink" href="#apt_pkg.REWRITE_SOURCE_ORDER" title="Permalink to this definition">¶</a></dt>
<dd><p>The order in which the information for source packages should be rewritten,
i.e. the order in which the fields should appear.</p>
</dd></dl>

</div>
<div class="section" id="dependencies">
<h2>Dependencies<a class="headerlink" href="#dependencies" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="apt_pkg.check_dep">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">check_dep</tt><big>(</big><em>pkgver: str</em>, <em>op: str</em>, <em>depver: str</em><big>)</big> &rarr; bool<a class="headerlink" href="#apt_pkg.check_dep" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that the given requirement is fulfilled; that is, that the version
string given by <em>pkg_ver</em> matches the version string <em>dep_ver</em> under
the condition specified by the operator &#8216;dep_op&#8217; (&lt;,&lt;=,=,&gt;=,&gt;).</p>
<p>Return True if <em>pkg_ver</em> matches <em>dep_ver</em> under the condition &#8216;dep_op&#8217;;
for example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">apt_pkg</span><span class="o">.</span><span class="n">check_dep</span><span class="p">(</span><span class="s">&quot;1.0&quot;</span><span class="p">,</span> <span class="s">&quot;&gt;=&quot;</span><span class="p">,</span> <span class="s">&quot;1&quot;</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<p>The following two functions provide the ability to parse dependencies. They
use the same format as <a class="reference internal" href="#apt_pkg.Version.depends_list_str" title="apt_pkg.Version.depends_list_str"><tt class="xref py py-attr docutils literal"><span class="pre">Version.depends_list_str</span></tt></a>.</p>
<dl class="function">
<dt id="apt_pkg.parse_depends">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">parse_depends</tt><big>(</big><em>depends</em>, <em>strip_multiarch=True</em><big>)</big><a class="headerlink" href="#apt_pkg.parse_depends" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the string <em>depends</em> which contains dependency information as
specified in Debian Policy, Section 7.1.</p>
<p>Returns a list. The members of this list are lists themselves and contain
one or more tuples in the format <tt class="docutils literal"><span class="pre">(package,version,operation)</span></tt> for every
&#8216;or&#8217;-option given, e.g.:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">apt_pkg</span><span class="o">.</span><span class="n">parse_depends</span><span class="p">(</span><span class="s">&quot;PkgA (&gt;= VerA) | PkgB (&gt;= VerB)&quot;</span><span class="p">)</span>
<span class="go">[[(&#39;PkgA&#39;, &#39;VerA&#39;, &#39;&gt;=&#39;), (&#39;PkgB&#39;, &#39;VerB&#39;, &#39;&gt;=&#39;)]]</span>
</pre></div>
</div>
<p>Note that multiarch dependency information is stripped off by default.
You can force the full dependency info (including the multiarch info)
by passing &#8220;False&#8221; as a additional parameter to this function.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The behavior of this function is different than the behavior of the
old function <tt class="xref py py-func docutils literal"><span class="pre">ParseDepends()</span></tt>, because the third field
<tt class="docutils literal"><span class="pre">operation</span></tt> uses <cite>&gt;</cite> instead of <cite>&gt;&gt;</cite> and <cite>&lt;</cite> instead of <cite>&lt;&lt;</cite> which
is specified in control files.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="apt_pkg.parse_src_depends">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">parse_src_depends</tt><big>(</big><em>depends</em><big>)</big><a class="headerlink" href="#apt_pkg.parse_src_depends" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the string <em>depends</em> which contains dependency information as
specified in Debian Policy, Section 7.1.</p>
<p>Returns a list. The members of this list are lists themselves and contain
one or more tuples in the format <tt class="docutils literal"><span class="pre">(package,version,operation)</span></tt> for every
&#8216;or&#8217;-option given, e.g.:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">apt_pkg</span><span class="o">.</span><span class="n">parse_depends</span><span class="p">(</span><span class="s">&quot;PkgA (&gt;= VerA) | PkgB (&gt;= VerB)&quot;</span><span class="p">)</span>
<span class="go">[[(&#39;PkgA&#39;, &#39;VerA&#39;, &#39;&gt;=&#39;), (&#39;PkgB&#39;, &#39;VerB&#39;, &#39;&gt;=&#39;)]]</span>
</pre></div>
</div>
<p>Furthemore, this function also supports to limit the architectures, as
used in e.g. Build-Depends:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">apt_pkg</span><span class="o">.</span><span class="n">parse_src_depends</span><span class="p">(</span><span class="s">&quot;a (&gt;= 01) [i386 amd64]&quot;</span><span class="p">)</span>
<span class="go">[[(&#39;a&#39;, &#39;01&#39;, &#39;&gt;=&#39;)]]</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The behavior of this function is different than the behavior of the
old function <tt class="xref py py-func docutils literal"><span class="pre">ParseDepends()</span></tt>, because the third field
<tt class="docutils literal"><span class="pre">operation</span></tt> uses <cite>&gt;</cite> instead of <cite>&gt;&gt;</cite> and <cite>&lt;</cite> instead of <cite>&lt;&lt;</cite> which
is specified in control files.</p>
</div>
</dd></dl>

</div>
<div class="section" id="configuration-and-command-line-parsing">
<h2>Configuration and Command-line parsing<a class="headerlink" href="#configuration-and-command-line-parsing" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="apt_pkg.Configuration">
<em class="property">class </em><tt class="descclassname">apt_pkg.</tt><tt class="descname">Configuration</tt><a class="headerlink" href="#apt_pkg.Configuration" title="Permalink to this definition">¶</a></dt>
<dd><p>Provide access to and manipulation of APT&#8217;s configuration which is
used by many classes and functions in this module to define their
behavior. There are options to install recommends, change the root
directory and much more. For an (incomplete) list of available options,
see the <em class="manpage">apt.conf(5)</em> manual page.</p>
<p>The most important Configuration object is the one available by the
module&#8217;s <a class="reference internal" href="#apt_pkg.config" title="apt_pkg.config"><tt class="xref py py-attr docutils literal"><span class="pre">apt_pkg.config</span></tt></a> attribute. It stores the global
configuration which affects the behavior of most functions and is
initialized by a call to the function <a class="reference internal" href="#apt_pkg.init_config" title="apt_pkg.init_config"><tt class="xref py py-func docutils literal"><span class="pre">init_config()</span></tt></a>. While
possible, it is generally not needed to create other instances of
this class.</p>
<p>For accessing and manipulating the configuration space, objects
of this type provide an interface which resembles Python mapping
types like <a class="reference external" href="http://docs.python.org/library/stdtypes.html#dict" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">dict</span></tt></a>.</p>
<dl class="describe">
<dt>
<tt class="descname">key in conf</tt></dt>
<dd><p>Return <tt class="docutils literal"><span class="pre">True</span></tt> if <em>conf</em> has a key <em>key</em>, else <tt class="docutils literal"><span class="pre">False</span></tt>.</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">conf[key]</tt></dt>
<dd><p>Return the value of the option given key <em>key</em>. If it does not
exist, raise <tt class="xref py py-exc docutils literal"><span class="pre">KeyError</span></tt>.</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">conf[key] = value</tt></dt>
<dd><p>Set the option at <em>key</em> to <em>value</em>.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.Configuration.get">
<tt class="descname">get</tt><big>(</big><em>key</em><span class="optional">[</span>, <em>default=''</em><span class="optional">]</span><big>)</big> &rarr; str<a class="headerlink" href="#apt_pkg.Configuration.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the value for the given key and return it. If the given key does
not exist, return <em>default</em> instead.</p>
</dd></dl>

<p>In addition, they provide methods to resemble the interface provided
by the C++ class and some more mapping methods which have been enhanced
to support some more advanced configuration features:</p>
<dl class="method">
<dt id="apt_pkg.Configuration.clear">
<tt class="descname">clear</tt><big>(</big><em>key: str</em><big>)</big><a class="headerlink" href="#apt_pkg.Configuration.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove the option at <em>key</em> and all of its children.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.Configuration.dump">
<tt class="descname">dump</tt><big>(</big><big>)</big> &rarr; str<a class="headerlink" href="#apt_pkg.Configuration.dump" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a string containing the values in the configuration object,
in the standard <em class="manpage">apt.conf(5)</em> format.</p>
<p class="versionadded">
<span class="versionmodified">New in version 0.7.100.</span></p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.Configuration.exists">
<tt class="descname">exists</tt><big>(</big><em>key</em><big>)</big><a class="headerlink" href="#apt_pkg.Configuration.exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether an option named <em>key</em> exists in the configuration.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.Configuration.find">
<tt class="descname">find</tt><big>(</big><em>key</em><span class="optional">[</span>, <em>default=''</em><span class="optional">]</span><big>)</big> &rarr; str<a class="headerlink" href="#apt_pkg.Configuration.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the value stored at the option named <em>key</em>, or the value
given by the string <em>default</em> if the option in question is not
set.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.Configuration.find_b">
<tt class="descname">find_b</tt><big>(</big><em>key</em><span class="optional">[</span>, <em>default=False</em><span class="optional">]</span><big>)</big> &rarr; bool<a class="headerlink" href="#apt_pkg.Configuration.find_b" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the boolean value stored at <em>key</em>, or the value given by
the <tt class="xref py py-class docutils literal"><span class="pre">bool</span></tt> object <em>default</em> if the requested option is
not set.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.Configuration.find_file">
<tt class="descname">find_file</tt><big>(</big><em>key</em><span class="optional">[</span>, <em>default=''</em><span class="optional">]</span><big>)</big> &rarr; str<a class="headerlink" href="#apt_pkg.Configuration.find_file" title="Permalink to this definition">¶</a></dt>
<dt id="apt_pkg.Configuration.find_dir">
<tt class="descname">find_dir</tt><big>(</big><em>key</em><span class="optional">[</span>, <em>default='/'</em><span class="optional">]</span><big>)</big> &rarr; str<a class="headerlink" href="#apt_pkg.Configuration.find_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Locate the given key using <a class="reference internal" href="#apt_pkg.Configuration.find" title="apt_pkg.Configuration.find"><tt class="xref py py-meth docutils literal"><span class="pre">find()</span></tt></a> and return the path to the
file/directory. This uses a special algorithms which moves upwards
in the configuration space and prepends the values of the options
to the result. These methods are generally used for the options
stored in the &#8216;Dir&#8217; section of the configuration.</p>
<p>As an example of how this works, take a look at the following options
and their values:</p>
<table border="1" class="docutils">
<colgroup>
<col width="34%" />
<col width="66%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Option</th>
<th class="head">Value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Dir</td>
<td>/</td>
</tr>
<tr class="row-odd"><td>Dir::Etc</td>
<td>etc/apt/</td>
</tr>
<tr class="row-even"><td>Dir::Etc::main</td>
<td>apt.conf</td>
</tr>
</tbody>
</table>
<p>A call to <a class="reference internal" href="#apt_pkg.Configuration.find_file" title="apt_pkg.Configuration.find_file"><tt class="xref py py-meth docutils literal"><span class="pre">find_file()</span></tt></a> would now return <tt class="docutils literal"><span class="pre">/etc/apt/apt.conf</span></tt>
because it prepends the values of &#8220;Dir::Etc&#8221; and &#8220;Dir&#8221; to the value
of &#8220;Dir::Etc::main&#8221;:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">apt_pkg</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">find_file</span><span class="p">(</span><span class="s">&quot;Dir::Etc::main&quot;</span><span class="p">)</span>
<span class="go">&#39;/etc/apt/apt.conf&#39;</span>
</pre></div>
</div>
<p>If the special configuration variable &#8220;RootDir&#8221; is set, this value
would be prepended to every return value, even if the path is already
absolute. If not, the function ends as soon as an absolute path is
created (once an option with a value starting with &#8220;/&#8221; is read).</p>
<p>The method <a class="reference internal" href="#apt_pkg.Configuration.find_dir" title="apt_pkg.Configuration.find_dir"><tt class="xref py py-meth docutils literal"><span class="pre">find_dir()</span></tt></a> does exactly the same thing as
<a class="reference internal" href="#apt_pkg.Configuration.find_file" title="apt_pkg.Configuration.find_file"><tt class="xref py py-meth docutils literal"><span class="pre">find_file()</span></tt></a>, but adds a trailing forward slash before
returning the value.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.Configuration.find_i">
<tt class="descname">find_i</tt><big>(</big><em>key</em><span class="optional">[</span>, <em>default=0</em><span class="optional">]</span><big>)</big> &rarr; int<a class="headerlink" href="#apt_pkg.Configuration.find_i" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the integer value stored at <em>key</em>, or the value given by
the integer <em>default</em> if the requested option is not set.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.Configuration.keys">
<tt class="descname">keys</tt><big>(</big><span class="optional">[</span><em>key</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#apt_pkg.Configuration.keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a recursive list of all configuration options or, if <em>key</em>
is given, a list of all its children. This method is comparable
to the <strong>keys</strong> method of a mapping object, but additionally
provides the parameter <em>key</em>.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.Configuration.list">
<tt class="descname">list</tt><big>(</big><span class="optional">[</span><em>key</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#apt_pkg.Configuration.list" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a non-recursive list of all configuration options. If <em>key</em>
is not given, this returns a list of options like &#8220;Apt&#8221;, &#8220;Dir&#8221;, and
similar. If <em>key</em> is given, a list of the names of its child options
will be returned instead.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.Configuration.my_tag">
<tt class="descname">my_tag</tt><big>(</big><big>)</big><a class="headerlink" href="#apt_pkg.Configuration.my_tag" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the tag name of the current tree. Normally (for
<a class="reference internal" href="#apt_pkg.config" title="apt_pkg.config"><tt class="xref py py-data docutils literal"><span class="pre">apt_pkg.config</span></tt></a>) this is an empty string, but for
sub-trees it is the key of the sub-tree.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.Configuration.set">
<tt class="descname">set</tt><big>(</big><em>key: str</em>, <em>value: str</em><big>)</big><a class="headerlink" href="#apt_pkg.Configuration.set" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the option named <em>key</em> to the value given by the argument
<em>value</em>. It is possible to store objects of the types <tt class="xref py py-class docutils literal"><span class="pre">int</span></tt>
and <tt class="xref py py-class docutils literal"><span class="pre">bool</span></tt> by calling <a class="reference external" href="http://docs.python.org/library/functions.html#str" title="(in Python v2.7)"><tt class="xref py py-func docutils literal"><span class="pre">str()</span></tt></a> on them to convert them
to a string object. They can then be retrieved again by using the
methods <a class="reference internal" href="#apt_pkg.Configuration.find_i" title="apt_pkg.Configuration.find_i"><tt class="xref py py-meth docutils literal"><span class="pre">find_i()</span></tt></a> or <a class="reference internal" href="#apt_pkg.Configuration.find_b" title="apt_pkg.Configuration.find_b"><tt class="xref py py-meth docutils literal"><span class="pre">find_b()</span></tt></a>.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.Configuration.subtree">
<tt class="descname">subtree</tt><big>(</big><em>key</em><big>)</big><a class="headerlink" href="#apt_pkg.Configuration.subtree" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new apt_pkg.Configuration object which starts at the
given option. Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">apttree</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">subtree</span><span class="p">(</span><span class="s">&#39;APT&#39;</span><span class="p">)</span>
<span class="n">apttree</span><span class="p">[</span><span class="s">&#39;Install-Suggests&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s">&#39;APT::Install-Suggests&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>The configuration space is shared with the main object which means
that all modifications in one object appear in the other one as
well.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.Configuration.value_list">
<tt class="descname">value_list</tt><big>(</big><span class="optional">[</span><em>key</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#apt_pkg.Configuration.value_list" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the opposite of the <a class="reference internal" href="#apt_pkg.Configuration.list" title="apt_pkg.Configuration.list"><tt class="xref py py-meth docutils literal"><span class="pre">list()</span></tt></a> method in that it returns the
values instead of the option names.</p>
</dd></dl>

</dd></dl>

<dl class="data">
<dt id="apt_pkg.config">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">config</tt><a class="headerlink" href="#apt_pkg.config" title="Permalink to this definition">¶</a></dt>
<dd><p>This variable contains the global configuration which is used by
all classes and functions in this module. After importing the
module, this object should be initialized by calling the module&#8217;s
<a class="reference internal" href="#apt_pkg.init_config" title="apt_pkg.init_config"><tt class="xref py py-func docutils literal"><span class="pre">init_config()</span></tt></a> function.</p>
</dd></dl>

<dl class="function">
<dt id="apt_pkg.read_config_file">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">read_config_file</tt><big>(</big><em>configuration: Configuration</em>, <em>filename: str</em><big>)</big><a class="headerlink" href="#apt_pkg.read_config_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the configuration file <em>filename</em> and set the appropriate
options in the configuration object <em>configuration</em>.</p>
</dd></dl>

<dl class="function">
<dt id="apt_pkg.read_config_dir">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">read_config_dir</tt><big>(</big><em>configuration</em>, <em>dirname</em><big>)</big><a class="headerlink" href="#apt_pkg.read_config_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Read all configuration files in the dir given by &#8216;dirname&#8217; in the
correct order.</p>
</dd></dl>

<dl class="function">
<dt id="apt_pkg.read_config_file_isc">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">read_config_file_isc</tt><big>(</big><em>configuration</em>, <em>filename</em><big>)</big><a class="headerlink" href="#apt_pkg.read_config_file_isc" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the configuration file <em>filename</em> and set the appropriate
options in the configuration object <em>configuration</em>. This function
requires a slightly different format than APT configuration files,
if you are unsure, do not use it.</p>
</dd></dl>

<dl class="function">
<dt id="apt_pkg.parse_commandline">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">parse_commandline</tt><big>(</big><em>configuration</em>, <em>options</em>, <em>argv</em><big>)</big><a class="headerlink" href="#apt_pkg.parse_commandline" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the command line in <em>argv</em> into the configuration space. The
list <em>options</em> contains a list of 3-tuples or 4-tuples in the form:</p>
<div class="highlight-python"><pre>(short_option: str, long_option: str, variable: str[, type: str])</pre>
</div>
<p>The element <em>short_option</em> is one character, the <em>long_option</em> element
is the name of the long option, the element <em>variable</em> the name of the
configuration option the result will be stored in and <em>type</em> is one of
&#8216;HasArg&#8217;, &#8216;IntLevel&#8217;, &#8216;Boolean&#8217;, &#8216;InvBoolean&#8217;, &#8216;ConfigFile&#8217;,
&#8216;ArbItem&#8217;. The default type is &#8216;Boolean&#8217;.</p>
<table border="1" class="docutils">
<caption>Overview of all possible types</caption>
<colgroup>
<col width="17%" />
<col width="83%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Type</th>
<th class="head">What happens if the option is given</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>HasArg</td>
<td>The argument given to the option is stored in
the target.</td>
</tr>
<tr class="row-odd"><td>IntLevel</td>
<td>The integer value in the target is increased by one</td>
</tr>
<tr class="row-even"><td>Boolean</td>
<td>The target variable is set to True.</td>
</tr>
<tr class="row-odd"><td>InvBoolean</td>
<td>The target variable is set to False.</td>
</tr>
<tr class="row-even"><td>ConfigFile</td>
<td>The file given as an argument to this option is read
in and all configuration options are added to the
configuration object (APT&#8217;s &#8216;-c&#8217; option).</td>
</tr>
<tr class="row-odd"><td>ArbItem</td>
<td>The option takes an argument <em>key*=*value</em>, and the
configuration option at <em>key</em> is set to the value
<em>value</em> (APT&#8217;s &#8216;-o&#8217; option).</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="locking">
<h2>Locking<a class="headerlink" href="#locking" title="Permalink to this headline">¶</a></h2>
<p>When working on the global cache, it is important to lock the cache so other
programs do not modify it. This module provides two context managers for
locking the package system or file-based locking.</p>
<dl class="class">
<dt id="apt_pkg.SystemLock">
<em class="property">class </em><tt class="descclassname">apt_pkg.</tt><tt class="descname">SystemLock</tt><a class="headerlink" href="#apt_pkg.SystemLock" title="Permalink to this definition">¶</a></dt>
<dd><p>Context manager for locking the package system. The lock is established
as soon as the method __enter__() is called. It is released when
__exit__() is called. If the lock can not be acquired or can not be
released an exception is raised.</p>
<p>This should be used via the &#8216;with&#8217; statement. For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">with</span> <span class="n">apt_pkg</span><span class="o">.</span><span class="n">SystemLock</span><span class="p">():</span>
    <span class="o">...</span> <span class="c"># Do your stuff here.</span>
<span class="o">...</span> <span class="c"># Now it&#39;s unlocked again</span>
</pre></div>
</div>
<p>Once the block is left, the lock is released automatically. The object
can be used multiple times:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">lock</span> <span class="o">=</span> <span class="n">apt_pkg</span><span class="o">.</span><span class="n">SystemLock</span><span class="p">()</span>
<span class="k">with</span> <span class="n">lock</span><span class="p">:</span>
    <span class="o">...</span>
<span class="k">with</span> <span class="n">lock</span><span class="p">:</span>
    <span class="o">...</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="apt_pkg.FileLock">
<em class="property">class </em><tt class="descclassname">apt_pkg.</tt><tt class="descname">FileLock</tt><big>(</big><em>filename: str</em><big>)</big><a class="headerlink" href="#apt_pkg.FileLock" title="Permalink to this definition">¶</a></dt>
<dd><p>Context manager for locking using a file. The lock is established
as soon as the method __enter__() is called. It is released when
__exit__() is called. If the lock can not be acquired or can not be
released, an exception is raised.</p>
<p>This should be used via the &#8216;with&#8217; statement. For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">with</span> <span class="n">apt_pkg</span><span class="o">.</span><span class="n">FileLock</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>Once the block is left, the lock is released automatically. The object
can be used multiple times:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">lock</span> <span class="o">=</span> <span class="n">apt_pkg</span><span class="o">.</span><span class="n">FileLock</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
<span class="k">with</span> <span class="n">lock</span><span class="p">:</span>
    <span class="o">...</span>
<span class="k">with</span> <span class="n">lock</span><span class="p">:</span>
    <span class="o">...</span>
</pre></div>
</div>
</dd></dl>

<p>For Python versions prior to 2.5, similar functionality is provided by the
following three functions:</p>
<dl class="function">
<dt id="apt_pkg.get_lock">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">get_lock</tt><big>(</big><em>filename: str</em>, <em>errors=False</em><big>)</big> &rarr; int<a class="headerlink" href="#apt_pkg.get_lock" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an empty file at the path specified by the parameter <em>filename</em> and
lock it. If this fails and <em>errors</em> is <strong>True</strong>, the function raises an
error. If <em>errors</em> is <strong>False</strong>, the function returns -1.</p>
<p>The lock can be acquired multiple times within the same process, and can be
released by calling <a class="reference external" href="http://docs.python.org/library/os.html#os.close" title="(in Python v2.7)"><tt class="xref py py-func docutils literal"><span class="pre">os.close()</span></tt></a> on the return value which is the file
descriptor of the created file.</p>
</dd></dl>

<dl class="function">
<dt id="apt_pkg.pkgsystem_lock">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">pkgsystem_lock</tt><big>(</big><big>)</big><a class="headerlink" href="#apt_pkg.pkgsystem_lock" title="Permalink to this definition">¶</a></dt>
<dd><p>Lock the global pkgsystem. The lock should be released by calling
<a class="reference internal" href="#apt_pkg.pkgsystem_unlock" title="apt_pkg.pkgsystem_unlock"><tt class="xref py py-func docutils literal"><span class="pre">pkgsystem_unlock()</span></tt></a> again. If this function is called n-times, the
<a class="reference internal" href="#apt_pkg.pkgsystem_unlock" title="apt_pkg.pkgsystem_unlock"><tt class="xref py py-func docutils literal"><span class="pre">pkgsystem_unlock()</span></tt></a> function must be called n-times as well to release
all acquired locks.</p>
</dd></dl>

<dl class="function">
<dt id="apt_pkg.pkgsystem_unlock">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">pkgsystem_unlock</tt><big>(</big><big>)</big><a class="headerlink" href="#apt_pkg.pkgsystem_unlock" title="Permalink to this definition">¶</a></dt>
<dd><p>Unlock the global pkgsystem. This reverts the effect of
<a class="reference internal" href="#apt_pkg.pkgsystem_lock" title="apt_pkg.pkgsystem_lock"><tt class="xref py py-func docutils literal"><span class="pre">pkgsystem_lock()</span></tt></a>.</p>
</dd></dl>

</div>
<div class="section" id="other-classes">
<h2>Other classes<a class="headerlink" href="#other-classes" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="apt_pkg.Cdrom">
<em class="property">class </em><tt class="descclassname">apt_pkg.</tt><tt class="descname">Cdrom</tt><a class="headerlink" href="#apt_pkg.Cdrom" title="Permalink to this definition">¶</a></dt>
<dd><p>A Cdrom object identifies Debian installation media and adds them to
<tt class="file docutils literal"><span class="pre">/etc/apt/sources.list</span></tt>. The C++ version of this class is used by
the apt-cdrom tool and using this class, you can re-implement apt-cdrom
in Python, see <a class="reference internal" href="../tutorials/apt-cdrom.html"><em>Writing your own apt-cdrom</em></a>.</p>
<p>The class <a class="reference internal" href="apt.cdrom.html#apt.cdrom.Cdrom" title="apt.cdrom.Cdrom"><tt class="xref py py-class docutils literal"><span class="pre">apt.cdrom.Cdrom</span></tt></a> is a subclass of this class and
provides some additional functionality for higher level use and some
shortcuts for setting some related configuration options.</p>
<p>This class provides two functions which take an instance of
<a class="reference internal" href="apt.progress.base.html#apt.progress.base.CdromProgress" title="apt.progress.base.CdromProgress"><tt class="xref py py-class docutils literal"><span class="pre">apt.progress.base.CdromProgress</span></tt></a> as their argument.</p>
<dl class="method">
<dt id="apt_pkg.Cdrom.add">
<tt class="descname">add</tt><big>(</big><em>progress: apt.progress.base.CdromProgress</em><big>)</big> &rarr; bool<a class="headerlink" href="#apt_pkg.Cdrom.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Search for a Debian installation media and add it to the list of
sources stored in <tt class="file docutils literal"><span class="pre">/etc/apt/sources.list</span></tt>. On success, the
boolean value <tt class="docutils literal"><span class="pre">True</span></tt> is returned. If the process failed or was
canceled by the progress class, <tt class="xref py py-exc docutils literal"><span class="pre">SystemError</span></tt> is raised or
<tt class="docutils literal"><span class="pre">False</span></tt> is returned.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.Cdrom.ident">
<tt class="descname">ident</tt><big>(</big><em>progress: apt.progress.base.CdromProgress</em><big>)</big> &rarr; str<a class="headerlink" href="#apt_pkg.Cdrom.ident" title="Permalink to this definition">¶</a></dt>
<dd><p>Identify the installation media and return a string which describes
its identity. If no media could be identified, <tt class="xref py py-exc docutils literal"><span class="pre">SystemError</span></tt> is
raised or <tt class="docutils literal"><span class="pre">None</span></tt> is returned.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="apt_pkg.SourceList">
<em class="property">class </em><tt class="descclassname">apt_pkg.</tt><tt class="descname">SourceList</tt><a class="headerlink" href="#apt_pkg.SourceList" title="Permalink to this definition">¶</a></dt>
<dd><p>Represent the list of sources stored in files such as
<tt class="file docutils literal"><span class="pre">/etc/apt/sources.list</span></tt>.</p>
<dl class="method">
<dt id="apt_pkg.SourceList.find_index">
<tt class="descname">find_index</tt><big>(</big><em>pkgfile: PackageFile</em><big>)</big> &rarr; IndexFile<a class="headerlink" href="#apt_pkg.SourceList.find_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the <a class="reference internal" href="#apt_pkg.IndexFile" title="apt_pkg.IndexFile"><tt class="xref py py-class docutils literal"><span class="pre">IndexFile</span></tt></a> object for the <a class="reference internal" href="#apt_pkg.PackageFile" title="apt_pkg.PackageFile"><tt class="xref py py-class docutils literal"><span class="pre">PackageFile</span></tt></a>
object given by the argument <em>pkgfile</em>. If no index could be found,
return <tt class="docutils literal"><span class="pre">None</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.SourceList.get_indexes">
<tt class="descname">get_indexes</tt><big>(</big><em>acquire: Acquire</em><span class="optional">[</span>, <em>all: bool = False</em><span class="optional">]</span><big>)</big> &rarr; bool<a class="headerlink" href="#apt_pkg.SourceList.get_indexes" title="Permalink to this definition">¶</a></dt>
<dd><p>Add all indexes to the <a class="reference internal" href="#apt_pkg.Acquire" title="apt_pkg.Acquire"><tt class="xref py py-class docutils literal"><span class="pre">Acquire</span></tt></a> object given by the argument
<em>acquire</em>. If <em>all</em> is <tt class="docutils literal"><span class="pre">True</span></tt>, all indexes will be added, otherwise
only the meta indexes (Release files) will be added and others are
fetched as needed.</p>
</dd></dl>

<dl class="method">
<dt id="apt_pkg.SourceList.read_main_list">
<tt class="descname">read_main_list</tt><big>(</big><big>)</big> &rarr; bool<a class="headerlink" href="#apt_pkg.SourceList.read_main_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the files configured in Dir::Etc::SourceList and
Dir::Etc::sourceparts; that is (on normal system),
<tt class="file docutils literal"><span class="pre">/etc/apt/sources.list</span></tt> and the files in
<tt class="file docutils literal"><span class="pre">/etc/apt/sources.list.d</span></tt>.</p>
</dd></dl>

<dl class="attribute">
<dt id="apt_pkg.SourceList.list">
<tt class="descname">list</tt><a class="headerlink" href="#apt_pkg.SourceList.list" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of <a class="reference internal" href="#apt_pkg.MetaIndex" title="apt_pkg.MetaIndex"><tt class="xref py py-class docutils literal"><span class="pre">MetaIndex</span></tt></a> objects.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="string-functions">
<h2>String functions<a class="headerlink" href="#string-functions" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="apt_pkg.base64_encode">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">base64_encode</tt><big>(</big><em>value: bytes</em><big>)</big> &rarr; str<a class="headerlink" href="#apt_pkg.base64_encode" title="Permalink to this definition">¶</a></dt>
<dd><p>Encode the given bytes string (which may not contain a null byte)
using base64, for example, on Python 3 and newer:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">apt_pkg</span><span class="o">.</span><span class="n">base64_encode</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;A&quot;</span><span class="p">)</span>
<span class="go">&#39;QQ==&#39;</span>
</pre></div>
</div>
<p>on Python versions prior to 3, the &#8216;b&#8217; before the string has to be
omitted.</p>
</dd></dl>

<dl class="function">
<dt id="apt_pkg.check_domain_list">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">check_domain_list</tt><big>(</big><em>host</em>, <em>list</em><big>)</big><a class="headerlink" href="#apt_pkg.check_domain_list" title="Permalink to this definition">¶</a></dt>
<dd><p>See if the host name given by <em>host</em> is one of the domains given in the
comma-separated list <em>list</em> or a subdomain of one of them.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">apt_pkg</span><span class="o">.</span><span class="n">check_domain_list</span><span class="p">(</span><span class="s">&quot;alioth.debian.org&quot;</span><span class="p">,</span><span class="s">&quot;debian.net,debian.org&quot;</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="apt_pkg.dequote_string">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">dequote_string</tt><big>(</big><em>string: str</em><big>)</big><a class="headerlink" href="#apt_pkg.dequote_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Dequote the string specified by the parameter <em>string</em>, e.g.:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">apt_pkg</span><span class="o">.</span><span class="n">dequote_string</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%61%</span><span class="s">70</span><span class="si">%74%</span><span class="s">20is</span><span class="si">%20c</span><span class="s">ool&quot;</span><span class="p">)</span>
<span class="go">&#39;apt is cool&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="apt_pkg.quote_string">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">quote_string</tt><big>(</big><em>string</em>, <em>repl</em><big>)</big><a class="headerlink" href="#apt_pkg.quote_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Escape the string <em>string</em>, replacing any character not allowed in a URL
or specified by <em>repl</em> with its ASCII value preceded by a percent sign
(so for example &#8216; &#8216; becomes &#8216;%20&#8217;).</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">apt_pkg</span><span class="o">.</span><span class="n">quote_string</span><span class="p">(</span><span class="s">&quot;apt is cool&quot;</span><span class="p">,</span><span class="s">&quot;apt&quot;</span><span class="p">)</span>
<span class="go">&#39;%61%70%74%20is%20cool&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="apt_pkg.size_to_str">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">size_to_str</tt><big>(</big><em>size: int</em><big>)</big><a class="headerlink" href="#apt_pkg.size_to_str" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a string describing the size in a human-readable manner using
SI prefix and base-10 units, e.g. &#8216;1k&#8217; for 1000, &#8216;1M&#8217; for 1000000, etc.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">apt_pkg</span><span class="o">.</span><span class="n">size_to_str</span><span class="p">(</span><span class="mi">10000</span><span class="p">)</span>
<span class="go">&#39;10.0k&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="apt_pkg.string_to_bool">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">string_to_bool</tt><big>(</big><em>input</em><big>)</big><a class="headerlink" href="#apt_pkg.string_to_bool" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the string <em>input</em> and return one of <strong>-1</strong>, <strong>0</strong>, <strong>1</strong>.</p>
<table border="1" class="docutils">
<caption>Return values</caption>
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Value</th>
<th class="head">Meaning</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>-1</td>
<td>The string <em>input</em> is not recognized.</td>
</tr>
<tr class="row-odd"><td>0</td>
<td>The string <em>input</em> evaluates to <strong>False</strong>.</td>
</tr>
<tr class="row-even"><td>+1</td>
<td>The string <em>input</em> evaluates to <strong>True</strong>.</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">apt_pkg</span><span class="o">.</span><span class="n">string_to_bool</span><span class="p">(</span><span class="s">&quot;yes&quot;</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">apt_pkg</span><span class="o">.</span><span class="n">string_to_bool</span><span class="p">(</span><span class="s">&quot;no&quot;</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">apt_pkg</span><span class="o">.</span><span class="n">string_to_bool</span><span class="p">(</span><span class="s">&quot;not-recognized&quot;</span><span class="p">)</span>
<span class="go">-1</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="apt_pkg.str_to_time">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">str_to_time</tt><big>(</big><em>rfc_time</em><big>)</big><a class="headerlink" href="#apt_pkg.str_to_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the <span class="target" id="index-1"></span><a class="rfc reference external" href="http://tools.ietf.org/html/rfc1123.html"><strong>RFC 1123</strong></a> conforming string <em>rfc_time</em> to the unix time, and
return the integer. This is the opposite of <tt class="xref py py-func docutils literal"><span class="pre">TimeRFC1123()</span></tt>.</p>
<p>Example:</p>
<div class="highlight-python"><pre>&gt;&gt; apt_pkg.str_to_time('Thu, 01 Jan 1970 00:00:00 GMT')
0</pre>
</div>
</dd></dl>

<dl class="function">
<dt id="apt_pkg.time_rfc1123">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">time_rfc1123</tt><big>(</big><em>seconds: int</em><big>)</big> &rarr; str<a class="headerlink" href="#apt_pkg.time_rfc1123" title="Permalink to this definition">¶</a></dt>
<dd><p>Format the unix time specified by the integer <em>seconds</em>, according to the
requirements of <span class="target" id="index-2"></span><a class="rfc reference external" href="http://tools.ietf.org/html/rfc1123.html"><strong>RFC 1123</strong></a>.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">apt_pkg</span><span class="o">.</span><span class="n">time_rfc1123</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">&#39;Thu, 01 Jan 1970 00:00:00 GMT&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="apt_pkg.time_to_str">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">time_to_str</tt><big>(</big><em>seconds: int</em><big>)</big> &rarr; str<a class="headerlink" href="#apt_pkg.time_to_str" title="Permalink to this definition">¶</a></dt>
<dd><p>Format a given duration in a human-readable manner. The parameter <em>seconds</em>
refers to a number of seconds, given as an integer. The return value is a
string with a unit like &#8216;s&#8217; for seconds.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">apt_pkg</span><span class="o">.</span><span class="n">time_to_str</span><span class="p">(</span><span class="mi">3601</span><span class="p">)</span>
<span class="go">&#39;1h0min1s&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="apt_pkg.upstream_version">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">upstream_version</tt><big>(</big><em>version: str</em><big>)</big> &rarr; str<a class="headerlink" href="#apt_pkg.upstream_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the upstream version for the Debian package version given by
<em>version</em>.</p>
</dd></dl>

<dl class="function">
<dt id="apt_pkg.uri_to_filename">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">uri_to_filename</tt><big>(</big><em>uri: str</em><big>)</big> &rarr; str<a class="headerlink" href="#apt_pkg.uri_to_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Take a string <em>uri</em> as parameter and return a filename which can be used to
store the file, based on the URI.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">apt_pkg</span><span class="o">.</span><span class="n">uri_to_filename</span><span class="p">(</span><span class="s">&#39;http://debian.org/index.html&#39;</span><span class="p">)</span>
<span class="go">&#39;debian.org_index.html&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="apt_pkg.version_compare">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">version_compare</tt><big>(</big><em>a: str</em>, <em>b: str</em><big>)</big> &rarr; int<a class="headerlink" href="#apt_pkg.version_compare" title="Permalink to this definition">¶</a></dt>
<dd><p>Compare two versions, <em>a</em> and <em>b</em>, and return an integer value which has
the same meaning as the built-in <a class="reference external" href="http://docs.python.org/library/functions.html#cmp" title="(in Python v2.7)"><tt class="xref py py-func docutils literal"><span class="pre">cmp()</span></tt></a> function&#8217;s return value has,
see the following table for details.</p>
<table border="1" class="docutils">
<caption>Return values</caption>
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Value</th>
<th class="head">Meaning</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>&gt; 0</td>
<td>The version <em>a</em> is greater than version <em>b</em>.</td>
</tr>
<tr class="row-odd"><td>= 0</td>
<td>Both versions are equal.</td>
</tr>
<tr class="row-even"><td>&lt; 0</td>
<td>The version <em>a</em> is less than version <em>b</em>.</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-constants">
<h2>Module Constants<a class="headerlink" href="#module-constants" title="Permalink to this headline">¶</a></h2>
<div class="section" id="package-states">
<span id="curstates"></span><h3>Package States<a class="headerlink" href="#package-states" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id="apt_pkg.CURSTATE_CONFIG_FILES">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">CURSTATE_CONFIG_FILES</tt><a class="headerlink" href="#apt_pkg.CURSTATE_CONFIG_FILES" title="Permalink to this definition">¶</a></dt>
<dd><p>Only the configuration files of the package exist on the system.</p>
</dd></dl>

<dl class="data">
<dt id="apt_pkg.CURSTATE_HALF_CONFIGURED">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">CURSTATE_HALF_CONFIGURED</tt><a class="headerlink" href="#apt_pkg.CURSTATE_HALF_CONFIGURED" title="Permalink to this definition">¶</a></dt>
<dd><p>The package is unpacked and configuration has been started, but not
yet completed.</p>
</dd></dl>

<dl class="data">
<dt id="apt_pkg.CURSTATE_HALF_INSTALLED">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">CURSTATE_HALF_INSTALLED</tt><a class="headerlink" href="#apt_pkg.CURSTATE_HALF_INSTALLED" title="Permalink to this definition">¶</a></dt>
<dd><p>The installation of the package has been started, but not completed.</p>
</dd></dl>

<dl class="data">
<dt id="apt_pkg.CURSTATE_INSTALLED">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">CURSTATE_INSTALLED</tt><a class="headerlink" href="#apt_pkg.CURSTATE_INSTALLED" title="Permalink to this definition">¶</a></dt>
<dd><p>The package is unpacked, configured and OK.</p>
</dd></dl>

<dl class="data">
<dt id="apt_pkg.CURSTATE_NOT_INSTALLED">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">CURSTATE_NOT_INSTALLED</tt><a class="headerlink" href="#apt_pkg.CURSTATE_NOT_INSTALLED" title="Permalink to this definition">¶</a></dt>
<dd><p>The package is not installed.</p>
</dd></dl>

<dl class="data">
<dt id="apt_pkg.CURSTATE_UNPACKED">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">CURSTATE_UNPACKED</tt><a class="headerlink" href="#apt_pkg.CURSTATE_UNPACKED" title="Permalink to this definition">¶</a></dt>
<dd><p>The package is unpacked, but not configured.</p>
</dd></dl>

</div>
<div class="section" id="installed-states">
<span id="inststates"></span><h3>Installed states<a class="headerlink" href="#installed-states" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id="apt_pkg.INSTSTATE_HOLD">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">INSTSTATE_HOLD</tt><a class="headerlink" href="#apt_pkg.INSTSTATE_HOLD" title="Permalink to this definition">¶</a></dt>
<dd><p>The package is put on hold.</p>
</dd></dl>

<dl class="data">
<dt id="apt_pkg.INSTSTATE_HOLD_REINSTREQ">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">INSTSTATE_HOLD_REINSTREQ</tt><a class="headerlink" href="#apt_pkg.INSTSTATE_HOLD_REINSTREQ" title="Permalink to this definition">¶</a></dt>
<dd><p>The package is put on hold, but broken and has to be reinstalled.</p>
</dd></dl>

<dl class="data">
<dt id="apt_pkg.INSTSTATE_OK">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">INSTSTATE_OK</tt><a class="headerlink" href="#apt_pkg.INSTSTATE_OK" title="Permalink to this definition">¶</a></dt>
<dd><p>The package is OK.</p>
</dd></dl>

<dl class="data">
<dt id="apt_pkg.INSTSTATE_REINSTREQ">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">INSTSTATE_REINSTREQ</tt><a class="headerlink" href="#apt_pkg.INSTSTATE_REINSTREQ" title="Permalink to this definition">¶</a></dt>
<dd><p>The package is broken and has to be reinstalled.</p>
</dd></dl>

</div>
<div class="section" id="priorities">
<span id="id1"></span><h3>Priorities<a class="headerlink" href="#priorities" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id="apt_pkg.PRI_EXTRA">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">PRI_EXTRA</tt><a class="headerlink" href="#apt_pkg.PRI_EXTRA" title="Permalink to this definition">¶</a></dt>
<dd><p>The integer representation of the priority &#8216;extra&#8217;.</p>
</dd></dl>

<dl class="data">
<dt id="apt_pkg.PRI_IMPORTANT">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">PRI_IMPORTANT</tt><a class="headerlink" href="#apt_pkg.PRI_IMPORTANT" title="Permalink to this definition">¶</a></dt>
<dd><p>The integer representation of the priority &#8216;important&#8217;.</p>
</dd></dl>

<dl class="data">
<dt id="apt_pkg.PRI_OPTIONAL">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">PRI_OPTIONAL</tt><a class="headerlink" href="#apt_pkg.PRI_OPTIONAL" title="Permalink to this definition">¶</a></dt>
<dd><p>The integer representation of the priority &#8216;optional&#8217;.</p>
</dd></dl>

<dl class="data">
<dt id="apt_pkg.PRI_REQUIRED">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">PRI_REQUIRED</tt><a class="headerlink" href="#apt_pkg.PRI_REQUIRED" title="Permalink to this definition">¶</a></dt>
<dd><p>The integer representation of the priority &#8216;required&#8217;.</p>
</dd></dl>

<dl class="data">
<dt id="apt_pkg.PRI_STANDARD">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">PRI_STANDARD</tt><a class="headerlink" href="#apt_pkg.PRI_STANDARD" title="Permalink to this definition">¶</a></dt>
<dd><p>The integer representation of the priority &#8216;standard&#8217;.</p>
</dd></dl>

</div>
<div class="section" id="package-selection-states">
<span id="selstates"></span><h3>Package selection states<a class="headerlink" href="#package-selection-states" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id="apt_pkg.SELSTATE_DEINSTALL">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">SELSTATE_DEINSTALL</tt><a class="headerlink" href="#apt_pkg.SELSTATE_DEINSTALL" title="Permalink to this definition">¶</a></dt>
<dd><p>The package is selected for deinstallation.</p>
</dd></dl>

<dl class="data">
<dt id="apt_pkg.SELSTATE_HOLD">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">SELSTATE_HOLD</tt><a class="headerlink" href="#apt_pkg.SELSTATE_HOLD" title="Permalink to this definition">¶</a></dt>
<dd><p>The package is marked to be on hold and will not be modified.</p>
</dd></dl>

<dl class="data">
<dt id="apt_pkg.SELSTATE_INSTALL">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">SELSTATE_INSTALL</tt><a class="headerlink" href="#apt_pkg.SELSTATE_INSTALL" title="Permalink to this definition">¶</a></dt>
<dd><p>The package is selected for installation.</p>
</dd></dl>

<dl class="data">
<dt id="apt_pkg.SELSTATE_PURGE">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">SELSTATE_PURGE</tt><a class="headerlink" href="#apt_pkg.SELSTATE_PURGE" title="Permalink to this definition">¶</a></dt>
<dd><p>The package is selected to be purged.</p>
</dd></dl>

<dl class="data">
<dt id="apt_pkg.SELSTATE_UNKNOWN">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">SELSTATE_UNKNOWN</tt><a class="headerlink" href="#apt_pkg.SELSTATE_UNKNOWN" title="Permalink to this definition">¶</a></dt>
<dd><p>The package is in an unknown state.</p>
</dd></dl>

</div>
<div class="section" id="build-information">
<h3>Build information<a class="headerlink" href="#build-information" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id="apt_pkg.DATE">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">DATE</tt><a class="headerlink" href="#apt_pkg.DATE" title="Permalink to this definition">¶</a></dt>
<dd><p>The date on which this extension has been compiled.</p>
</dd></dl>

<dl class="data">
<dt id="apt_pkg.LIB_VERSION">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">LIB_VERSION</tt><a class="headerlink" href="#apt_pkg.LIB_VERSION" title="Permalink to this definition">¶</a></dt>
<dd><p>The version of the apt_pkg library. This is <strong>not</strong> the version of apt,
nor the version of python-apt.</p>
</dd></dl>

<dl class="data">
<dt id="apt_pkg.TIME">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">TIME</tt><a class="headerlink" href="#apt_pkg.TIME" title="Permalink to this definition">¶</a></dt>
<dd><p>The time this extension has been built.</p>
</dd></dl>

<dl class="data">
<dt id="apt_pkg.VERSION">
<tt class="descclassname">apt_pkg.</tt><tt class="descname">VERSION</tt><a class="headerlink" href="#apt_pkg.VERSION" title="Permalink to this definition">¶</a></dt>
<dd><p>The version of apt (not of python-apt).</p>
</dd></dl>

</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../contents.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#"><tt class="docutils literal"><span class="pre">apt_pkg</span></tt> &#8212; The low-level bindings for apt-pkg</a><ul>
<li><a class="reference internal" href="#module-initialization">Module Initialization</a></li>
<li><a class="reference internal" href="#working-with-the-cache">Working with the cache</a><ul>
<li><a class="reference internal" href="#managing-the-cache-with-depcache">Managing the cache with <tt class="docutils literal"><span class="pre">DepCache</span></tt></a></li>
<li><a class="reference internal" href="#installing-with-packagemanager">Installing with <tt class="docutils literal"><span class="pre">PackageManager</span></tt></a></li>
<li><a class="reference internal" href="#installation-ordering-with-orderlist">Installation ordering with <tt class="docutils literal"><span class="pre">OrderList</span></tt></a></li>
<li><a class="reference internal" href="#improve-performance-with-actiongroup">Improve performance with <tt class="docutils literal"><span class="pre">ActionGroup</span></tt></a></li>
<li><a class="reference internal" href="#resolving-dependencies-with-problemresolver">Resolving Dependencies with <tt class="docutils literal"><span class="pre">ProblemResolver</span></tt></a></li>
<li><a class="reference internal" href="#group-of-packages-with-the-same-name"><tt class="docutils literal"><span class="pre">Group</span></tt> of packages with the same name</a></li>
<li><a class="reference internal" href="#package-information"><tt class="docutils literal"><span class="pre">Package</span></tt> information</a><ul>
<li><a class="reference internal" href="#example">Example:</a></li>
</ul>
</li>
<li><a class="reference internal" href="#version"><tt class="docutils literal"><span class="pre">Version</span></tt></a></li>
<li><a class="reference internal" href="#dependency"><tt class="docutils literal"><span class="pre">Dependency</span></tt></a><ul>
<li><a class="reference internal" href="#example-find-all-missing-dependencies">Example: Find all missing dependencies</a></li>
</ul>
</li>
<li><a class="reference internal" href="#description"><tt class="docutils literal"><span class="pre">Description</span></tt></a></li>
<li><a class="reference internal" href="#package-pinning-with-policy">Package Pinning with <tt class="docutils literal"><span class="pre">Policy</span></tt></a></li>
</ul>
</li>
<li><a class="reference internal" href="#index-files">Index Files</a></li>
<li><a class="reference internal" href="#records-release-files-packages-sources">Records (Release files, Packages, Sources)</a></li>
<li><a class="reference internal" href="#the-acquire-interface">The Acquire interface</a></li>
<li><a class="reference internal" href="#hashes">Hashes</a></li>
<li><a class="reference internal" href="#debian-control-files">Debian control files</a></li>
<li><a class="reference internal" href="#dependencies">Dependencies</a></li>
<li><a class="reference internal" href="#configuration-and-command-line-parsing">Configuration and Command-line parsing</a></li>
<li><a class="reference internal" href="#locking">Locking</a></li>
<li><a class="reference internal" href="#other-classes">Other classes</a></li>
<li><a class="reference internal" href="#string-functions">String functions</a></li>
<li><a class="reference internal" href="#module-constants">Module Constants</a><ul>
<li><a class="reference internal" href="#package-states">Package States</a></li>
<li><a class="reference internal" href="#installed-states">Installed states</a></li>
<li><a class="reference internal" href="#priorities">Priorities</a></li>
<li><a class="reference internal" href="#package-selection-states">Package selection states</a></li>
<li><a class="reference internal" href="#build-information">Build information</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Python APT Library</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="apt_inst.html"
                        title="next chapter"><tt class="docutils literal docutils literal docutils literal"><span class="pre">apt_inst</span></tt> - Working with local Debian packages</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/library/apt_pkg.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="apt_inst.html" title="apt_inst - Working with local Debian packages"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Python APT Library"
             >previous</a> |</li>
        <li><img src="../_static/py.png" alt=""
                 style="vertical-align: middle; margin-top: -1px"/></li>
        <li><a href="../index.html">python-apt 0.8.8.2Canaima1 documentation</a> &raquo;</li>

          <li><a href="index.html" >Python APT Library</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2009-2010, Julian Andres Klode &lt;jak@debian.org&gt;.
      Last updated on Apr 03, 2013.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>